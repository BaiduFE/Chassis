<?php

$q = $_GET[ 'q' ] ? $_GET[ 'q' ] : 0;
$satellites = isset($_GET['satellites']);
$si = isset($_GET['si']);



function getWeatherInfo( $q,$satellites,$si ){
	$url = 'https://api.forecast.io/forecast/7e480421b898229569419dd12587db27/'.$q . '?';
	
	
	if( $satellites ){
		$url = $url . '&satellites';
	}
	
	if( $si ){
		$url = $url . '&si';
	}
	
	
	//return file_get_contents($url);
	
	return '{"latitude":39.9289,"longitude":116.3883,"timezone":"Asia/Shanghai","offset":8,"currently":{"time":1375862675,"summary":"Drizzle and Breezy","icon":"rain","precipIntensity":0.214,"precipProbability":0.35,"precipType":"rain","temperature":26.08,"dewPoint":19,"windSpeed":25.34,"windBearing":336,"cloudCover":0.75,"humidity":0.65,"pressure":1002.22,"visibility":9.99,"ozone":285.87},"hourly":{"summary":"Breezy until this evening, with light rain until tomorrow morning.","icon":"rain","data":[{"time":1375862400,"summary":"Drizzle and Breezy","icon":"rain","precipIntensity":0.216,"precipProbability":0.35,"precipType":"rain","temperature":26.08,"dewPoint":19,"windSpeed":25.41,"windBearing":337,"cloudCover":0.75,"humidity":0.65,"pressure":1002.23,"visibility":9.99,"ozone":285.93},{"time":1375866000,"summary":"Drizzle and Breezy","icon":"rain","precipIntensity":0.185,"precipProbability":0.34,"precipType":"rain","temperature":26.16,"dewPoint":19,"windSpeed":24.42,"windBearing":324,"cloudCover":0.75,"humidity":0.65,"pressure":1002.13,"visibility":9.99,"ozone":285.16},{"time":1375869600,"summary":"Drizzle and Breezy","icon":"rain","precipIntensity":0.149,"precipProbability":0.32,"precipType":"rain","temperature":26.18,"dewPoint":18.99,"windSpeed":22.27,"windBearing":317,"cloudCover":0.76,"humidity":0.65,"pressure":1001.99,"visibility":9.99,"ozone":284.12},{"time":1375873200,"summary":"Drizzle","icon":"rain","precipIntensity":0.13,"precipProbability":0.31,"precipType":"rain","temperature":26.04,"dewPoint":18.95,"windSpeed":18.96,"windBearing":313,"cloudCover":0.77,"humidity":0.64,"pressure":1001.88,"visibility":9.99,"ozone":282.94},{"time":1375876800,"summary":"Drizzle","icon":"rain","precipIntensity":0.173,"precipProbability":0.36,"precipType":"rain","temperature":25.57,"dewPoint":18.89,"windSpeed":18.04,"windBearing":310,"cloudCover":0.79,"humidity":0.65,"pressure":1001.87,"visibility":9.99,"ozone":282.09},{"time":1375880400,"summary":"Light Rain","icon":"rain","precipIntensity":0.337,"precipProbability":0.53,"precipType":"rain","temperature":23.92,"dewPoint":18.76,"windSpeed":11.69,"windBearing":306,"cloudCover":0.92,"humidity":0.72,"pressure":1001.99,"ozone":281.87},{"time":1375884000,"summary":"Light Rain","icon":"rain","precipIntensity":0.569,"precipProbability":0.78,"precipType":"rain","temperature":22.87,"dewPoint":19.66,"windSpeed":10.7,"windBearing":302,"cloudCover":0.96,"humidity":0.82,"pressure":1002.16,"ozone":281.97},{"time":1375887600,"summary":"Light Rain","icon":"rain","precipIntensity":0.757,"precipProbability":0.98,"precipType":"rain","temperature":22.07,"dewPoint":20.26,"windSpeed":9.79,"windBearing":301,"cloudCover":0.99,"humidity":0.88,"pressure":1002.25,"ozone":281.97},{"time":1375891200,"summary":"Light Rain","icon":"rain","precipIntensity":0.842,"precipProbability":1,"precipType":"rain","temperature":21.75,"dewPoint":20.33,"windSpeed":9.11,"windBearing":304,"cloudCover":1,"humidity":0.91,"pressure":1002.22,"ozone":281.58},{"time":1375894800,"summary":"Light Rain","icon":"rain","precipIntensity":0.853,"precipProbability":1,"precipType":"rain","temperature":21.73,"dewPoint":20.16,"windSpeed":8.46,"windBearing":309,"cloudCover":1,"humidity":0.91,"pressure":1002.12,"ozone":281.08},{"time":1375898400,"summary":"Light Rain","icon":"rain","precipIntensity":0.805,"precipProbability":1,"precipType":"rain","temperature":21.62,"dewPoint":19.91,"windSpeed":8.01,"windBearing":312,"cloudCover":0.96,"humidity":0.9,"pressure":1001.98,"ozone":280.84},{"time":1375902000,"summary":"Light Rain","icon":"rain","precipIntensity":0.682,"precipProbability":0.83,"precipType":"rain","temperature":21.11,"dewPoint":19.55,"windSpeed":7.91,"windBearing":311,"cloudCover":0.75,"humidity":0.9,"pressure":1001.82,"ozone":281.11},{"time":1375905600,"summary":"Light Rain","icon":"rain","precipIntensity":0.504,"precipProbability":0.61,"precipType":"rain","temperature":20.53,"dewPoint":19.11,"windSpeed":8.01,"windBearing":308,"cloudCover":0.46,"humidity":0.9,"pressure":1001.65,"ozone":281.64},{"time":1375909200,"summary":"Light Rain","icon":"rain","precipIntensity":0.341,"precipProbability":0.44,"precipType":"rain","temperature":20.38,"dewPoint":18.87,"windSpeed":8.01,"windBearing":306,"cloudCover":0.28,"humidity":0.88,"pressure":1001.55,"ozone":282.16},{"time":1375912800,"summary":"Drizzle","icon":"rain","precipIntensity":0.232,"precipProbability":0.38,"precipType":"rain","temperature":20.87,"dewPoint":18.97,"windSpeed":7.8,"windBearing":306,"cloudCover":0.29,"humidity":0.85,"pressure":1001.58,"ozone":282.57},{"time":1375916400,"summary":"Drizzle","icon":"rain","precipIntensity":0.163,"precipProbability":0.37,"precipType":"rain","temperature":21.75,"dewPoint":19.24,"windSpeed":7.47,"windBearing":307,"cloudCover":0.39,"humidity":0.81,"pressure":1001.7,"ozone":282.97},{"time":1375920000,"summary":"Partly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.117,"precipProbability":0.35,"precipType":"rain","temperature":22.83,"dewPoint":19.48,"windSpeed":7.02,"windBearing":304,"cloudCover":0.52,"humidity":0.76,"pressure":1001.77,"ozone":283.35},{"time":1375923600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.097,"precipProbability":0.32,"precipType":"rain","temperature":24.22,"dewPoint":19.68,"windSpeed":6.25,"windBearing":295,"cloudCover":0.66,"humidity":0.72,"pressure":1001.73,"ozone":283.6},{"time":1375927200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.076,"precipProbability":0.27,"precipType":"rain","temperature":25.91,"dewPoint":19.87,"windSpeed":5.34,"windBearing":282,"cloudCover":0.81,"humidity":0.66,"pressure":1001.64,"ozone":283.84},{"time":1375930800,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0.056,"precipProbability":0.22,"precipType":"rain","temperature":27.63,"dewPoint":19.91,"windSpeed":4.83,"windBearing":270,"cloudCover":0.92,"humidity":0.62,"pressure":1001.5,"ozone":284.4},{"time":1375934400,"summary":"Overcast","icon":"cloudy","precipIntensity":0.038,"precipProbability":0.16,"precipType":"rain","temperature":29.35,"dewPoint":19.63,"windSpeed":5.03,"windBearing":256,"cloudCover":0.96,"humidity":0.57,"pressure":1001.28,"ozone":285.31},{"time":1375938000,"summary":"Overcast","icon":"cloudy","precipIntensity":0.023,"precipProbability":0.1,"precipType":"rain","temperature":30.95,"dewPoint":19.19,"windSpeed":5.62,"windBearing":242,"cloudCover":0.94,"humidity":0.53,"pressure":1000.98,"ozone":286.54},{"time":1375941600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":31.98,"dewPoint":18.97,"windSpeed":6.2,"windBearing":231,"cloudCover":0.92,"humidity":0.51,"pressure":1000.62,"ozone":288.28},{"time":1375945200,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":32.31,"dewPoint":19.24,"windSpeed":6.65,"windBearing":224,"cloudCover":0.9,"humidity":0.51,"pressure":1000.23,"ozone":290.62},{"time":1375948800,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":32.09,"dewPoint":19.74,"windSpeed":7.08,"windBearing":218,"cloudCover":0.86,"humidity":0.53,"pressure":999.91,"ozone":293.47},{"time":1375952400,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":31.25,"dewPoint":20.11,"windSpeed":7.41,"windBearing":215,"cloudCover":0.83,"humidity":0.56,"pressure":999.73,"ozone":296.67},{"time":1375956000,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":29.57,"dewPoint":20.2,"windSpeed":7.71,"windBearing":214,"cloudCover":0.83,"humidity":0.61,"pressure":999.8,"ozone":300.79},{"time":1375959600,"summary":"Mostly Cloudy","icon":"partly-cloudy-day","precipIntensity":0,"precipProbability":0,"temperature":27.42,"dewPoint":20.15,"windSpeed":7.9,"windBearing":217,"cloudCover":0.83,"humidity":0.67,"pressure":1000.04,"ozone":305.28},{"time":1375963200,"summary":"Mostly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":25.66,"dewPoint":20.05,"windSpeed":7.76,"windBearing":220,"cloudCover":0.75,"humidity":0.71,"pressure":1000.29,"ozone":308.3},{"time":1375966800,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0.016,"precipProbability":0.04,"precipType":"rain","temperature":24.58,"dewPoint":19.92,"windSpeed":7.06,"windBearing":223,"cloudCover":0.52,"humidity":0.75,"pressure":1000.47,"ozone":308.68},{"time":1375970400,"summary":"Clear","icon":"clear-night","precipIntensity":0.027,"precipProbability":0.06,"precipType":"rain","temperature":23.76,"dewPoint":19.7,"windSpeed":6.04,"windBearing":227,"cloudCover":0.21,"humidity":0.78,"pressure":1000.62,"ozone":307.61},{"time":1375974000,"summary":"Clear","icon":"clear-night","precipIntensity":0.039,"precipProbability":0.09,"precipType":"rain","temperature":22.97,"dewPoint":19.35,"windSpeed":5.18,"windBearing":234,"cloudCover":0,"humidity":0.8,"pressure":1000.7,"ozone":306.78},{"time":1375977600,"summary":"Clear","icon":"clear-night","precipIntensity":0.05,"precipProbability":0.12,"precipType":"rain","temperature":22.2,"dewPoint":18.82,"windSpeed":4.71,"windBearing":247,"cloudCover":0,"humidity":0.81,"pressure":1000.69,"ozone":306.74},{"time":1375981200,"summary":"Clear","icon":"clear-night","precipIntensity":0.058,"precipProbability":0.14,"precipType":"rain","temperature":21.58,"dewPoint":18.22,"windSpeed":4.45,"windBearing":264,"cloudCover":0.06,"humidity":0.81,"pressure":1000.6,"ozone":306.94},{"time":1375984800,"summary":"Clear","icon":"clear-night","precipIntensity":0.06,"precipProbability":0.14,"precipType":"rain","temperature":21.1,"dewPoint":17.7,"windSpeed":4.26,"windBearing":277,"cloudCover":0.12,"humidity":0.81,"pressure":1000.55,"ozone":307.52},{"time":1375988400,"summary":"Clear","icon":"clear-night","precipIntensity":0.054,"precipProbability":0.13,"precipType":"rain","temperature":20.57,"dewPoint":17.25,"windSpeed":4.08,"windBearing":286,"cloudCover":0.09,"humidity":0.8,"pressure":1000.6,"ozone":308.75},{"time":1375992000,"summary":"Clear","icon":"clear-night","precipIntensity":0.045,"precipProbability":0.11,"precipType":"rain","temperature":20.19,"dewPoint":16.87,"windSpeed":3.98,"windBearing":294,"cloudCover":0.04,"humidity":0.79,"pressure":1000.72,"ozone":310.36},{"time":1375995600,"summary":"Clear","icon":"clear-night","precipIntensity":0.032,"precipProbability":0.08,"precipType":"rain","temperature":20.48,"dewPoint":16.77,"windSpeed":4.01,"windBearing":303,"cloudCover":0,"humidity":0.77,"pressure":1000.88,"ozone":311.7},{"time":1375999200,"summary":"Clear","icon":"clear-day","precipIntensity":0.02,"precipProbability":0.05,"precipType":"rain","temperature":21.75,"dewPoint":17.07,"windSpeed":4.23,"windBearing":311,"cloudCover":0,"humidity":0.73,"pressure":1001.07,"ozone":312.52},{"time":1376002800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":23.58,"dewPoint":17.58,"windSpeed":4.55,"windBearing":314,"cloudCover":0,"humidity":0.68,"pressure":1001.28,"ozone":313.06},{"time":1376006400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":25.47,"dewPoint":18.05,"windSpeed":4.75,"windBearing":312,"cloudCover":0,"humidity":0.63,"pressure":1001.42,"ozone":313.41},{"time":1376010000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":27.47,"dewPoint":18.47,"windSpeed":4.69,"windBearing":301,"cloudCover":0,"humidity":0.58,"pressure":1001.47,"ozone":313.72},{"time":1376013600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":29.68,"dewPoint":18.86,"windSpeed":4.52,"windBearing":283,"cloudCover":0,"humidity":0.54,"pressure":1001.46,"ozone":313.85},{"time":1376017200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":31.7,"dewPoint":18.96,"windSpeed":4.46,"windBearing":264,"cloudCover":0,"humidity":0.49,"pressure":1001.35,"ozone":313.41},{"time":1376020800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":33.33,"dewPoint":18.51,"windSpeed":4.63,"windBearing":249,"cloudCover":0,"humidity":0.45,"pressure":1001.06,"ozone":311.93},{"time":1376024400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":34.58,"dewPoint":17.77,"windSpeed":4.92,"windBearing":236,"cloudCover":0,"humidity":0.42,"pressure":1000.74,"ozone":309.89},{"time":1376028000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":35.27,"dewPoint":17.28,"windSpeed":5.29,"windBearing":227,"cloudCover":0,"humidity":0.4,"pressure":1000.54,"ozone":308.34},{"time":1376031600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":35.38,"dewPoint":17.29,"windSpeed":5.7,"windBearing":215,"cloudCover":0,"humidity":0.4,"pressure":1000.39,"ozone":307.87},{"time":1376035200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":34.9,"dewPoint":17.53,"windSpeed":6.19,"windBearing":203,"cloudCover":0,"humidity":0.42,"pressure":1000.3,"ozone":307.9}]},"daily":{"summary":"Light rain off-and-on until Monday; temperatures peaking at 35° on Friday.","icon":"rain","data":[{"time":1375804800,"summary":"Breezy starting in the afternoon, continuing until evening, with light rain throughout the day.","icon":"rain","sunriseTime":1375823977,"sunsetTime":1375874609,"precipIntensity":0.381,"precipIntensityMax":0.03,"precipIntensityMaxTime":1375887600,"precipProbability":0.98,"precipType":"rain","temperatureMin":22.07,"temperatureMinTime":1375887600,"temperatureMax":30.46,"temperatureMaxTime":1375848000,"dewPoint":20.79,"windSpeed":13.49,"windBearing":353,"cloudCover":0.82,"humidity":0.73,"pressure":1002.67,"visibility":9.42,"ozone":286.6},{"time":1375891200,"summary":"Light rain in the morning.","icon":"rain","sunriseTime":1375910434,"sunsetTime":1375960938,"precipIntensity":0.206,"precipIntensityMax":0.034,"precipIntensityMaxTime":1375894800,"precipProbability":1,"precipType":"rain","temperatureMin":20.38,"temperatureMinTime":1375909200,"temperatureMax":32.31,"temperatureMaxTime":1375945200,"dewPoint":19.64,"windSpeed":6.99,"windBearing":264,"cloudCover":0.69,"humidity":0.72,"pressure":1001.08,"ozone":290.31},{"time":1375977600,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1375996892,"sunsetTime":1376047266,"precipIntensity":0.016,"precipIntensityMax":0,"precipProbability":0.14,"precipType":"rain","temperatureMin":20.19,"temperatureMinTime":1375992000,"temperatureMax":35.38,"temperatureMaxTime":1376031600,"dewPoint":18.06,"windSpeed":5.59,"windBearing":250,"cloudCover":0.01,"humidity":0.61,"pressure":1000.99,"ozone":308.89},{"time":1376064000,"summary":"Partly cloudy in the evening.","icon":"partly-cloudy-day","sunriseTime":1376083349,"sunsetTime":1376133593,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureMin":22.22,"temperatureMinTime":1376082000,"temperatureMax":35.26,"temperatureMaxTime":1376121600,"dewPoint":20.33,"windSpeed":6.08,"windBearing":146,"cloudCover":0.15,"humidity":0.58,"pressure":1003.49,"ozone":301.65},{"time":1376150400,"summary":"Light rain throughout the day.","icon":"rain","sunriseTime":1376169807,"sunsetTime":1376219918,"precipIntensity":0.141,"precipIntensityMax":0.011,"precipIntensityMaxTime":1376200800,"precipProbability":0.88,"precipType":"rain","temperatureMin":24.77,"temperatureMinTime":1376233200,"temperatureMax":30.01,"temperatureMaxTime":1376208000,"dewPoint":23.4,"windSpeed":6.66,"windBearing":110,"cloudCover":0.2,"humidity":0.71,"pressure":1003.16,"ozone":290.67},{"time":1376236800,"summary":"Light rain until evening.","icon":"rain","sunriseTime":1376256265,"sunsetTime":1376306243,"precipIntensity":0.331,"precipIntensityMax":0.043,"precipIntensityMaxTime":1376265600,"precipProbability":0.9,"precipType":"rain","temperatureMin":23.17,"temperatureMinTime":1376254800,"temperatureMax":28.9,"temperatureMaxTime":1376294400,"dewPoint":24.02,"windSpeed":4.73,"windBearing":101,"cloudCover":0.85,"humidity":0.81,"pressure":1000.6,"ozone":287.2},{"time":1376323200,"summary":"Mostly cloudy starting in the afternoon, continuing until evening.","icon":"partly-cloudy-day","sunriseTime":1376342723,"sunsetTime":1376392566,"precipIntensity":0.046,"precipIntensityMax":0,"precipProbability":0.25,"precipType":"rain","temperatureMin":24.07,"temperatureMinTime":1376341200,"temperatureMax":32.7,"temperatureMaxTime":1376377200,"dewPoint":23.75,"windSpeed":5.38,"windBearing":129,"cloudCover":0.28,"humidity":0.75,"pressure":999.95,"ozone":294.68},{"time":1376409600,"summary":"Drizzle overnight.","icon":"rain","sunriseTime":1376429180,"sunsetTime":1376478887,"precipIntensity":0.086,"precipIntensityMax":0.005,"precipIntensityMaxTime":1376492400,"precipProbability":0.37,"precipType":"rain","temperatureMin":23.42,"temperatureMinTime":1376416800,"temperatureMax":28.11,"temperatureMaxTime":1376463600,"dewPoint":22.72,"windSpeed":3.89,"windBearing":159,"cloudCover":0.2,"humidity":0.75,"pressure":1001.5,"ozone":293.93}]},"flags":{"sources":["isd","fnmoc","cmc","gfs","metar"],"satellites":[{"sid":"2126030118590","lat":36.03,"lon":118.59,"theta":10.74,"phi":-21.8,"zoom":0.4},{"sid":"3125510105400","lat":35.51,"lon":105.4,"theta":-0.53,"phi":0,"zoom":1.25}],"isd-stations":["544050-99999","545110-99999","545120-99999","545130-99999","545180-99999"],"metar-stations":["ZBAA"],"si":"The ?si query parameter is deprecated. Please see the API documentation for details."}}';
	
}


$result = getWeatherInfo($q,$satellites,$si);

header("Content-type: application/json");
echo $result;

?>