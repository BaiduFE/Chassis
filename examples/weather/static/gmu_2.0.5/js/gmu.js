/*!Extend touch.js*/
(function(i){var g={},b,k,h,e=750,a;function c(m){return"tagName" in m?m:m.parentNode}function j(n,m,p,o){var r=Math.abs(n-m),q=Math.abs(p-o);return r>=q?(n-m>0?"Left":"Right"):(p-o>0?"Up":"Down")}function l(){a=null;if(g.last){g.el.trigger("longTap");g={}}}function d(){if(a){clearTimeout(a)}a=null}function f(){if(b){clearTimeout(b)}if(k){clearTimeout(k)}if(h){clearTimeout(h)}if(a){clearTimeout(a)}b=k=h=a=null;g={}}i(document).ready(function(){var m,n;i(document.body).bind("touchstart",function(o){m=Date.now();n=m-(g.last||m);g.el=i(c(o.touches[0].target));b&&clearTimeout(b);g.x1=o.touches[0].pageX;g.y1=o.touches[0].pageY;if(n>0&&n<=250){g.isDoubleTap=true}g.last=m;a=setTimeout(l,e)}).bind("touchmove",function(o){d();g.x2=o.touches[0].pageX;g.y2=o.touches[0].pageY;if(Math.abs(g.x1-g.x2)>10){o.preventDefault()}}).bind("touchend",function(o){d();if((g.x2&&Math.abs(g.x1-g.x2)>30)||(g.y2&&Math.abs(g.y1-g.y2)>30)){h=setTimeout(function(){g.el.trigger("swipe");g.el.trigger("swipe"+(j(g.x1,g.x2,g.y1,g.y2)));g={}},0)}else{if("last" in g){k=setTimeout(function(){var p=i.Event("tap");p.cancelTouch=f;g.el.trigger(p);if(g.isDoubleTap){g.el.trigger("doubleTap");g={}}else{b=setTimeout(function(){b=null;g.el.trigger("singleTap");g={}},250)}},0)}}}).bind("touchcancel",f);i(window).bind("scroll",f)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(n){i.fn[n]=function(m){return this.bind(n,m)}})})(Zepto);
/*!Extend zepto.extend.js*/
(function(a){a.extend(a,{contains:function(b,c){return b.compareDocumentPosition?!!(b.compareDocumentPosition(c)&16):b!==c&&b.contains(c)}})})(Zepto);(function(a,c){a.extend(a,{toString:function(d){return Object.prototype.toString.call(d)},slice:function(e,d){return Array.prototype.slice.call(e,d||0)},later:function(f,d,h,e,g){return window["set"+(h?"Interval":"Timeout")](function(){f.apply(e,g)},d||0)},parseTpl:function(g,f){var d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+g.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(h,i){return"',"+i.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(h,i){return"');"+i.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var e=new Function("obj",d);return f?e(f):e},throttle:function(d,e,i){var g=0,f;if(typeof e!=="function"){i=e;e=d;d=250}function h(){var m=this,n=Date.now()-g,l=arguments;function k(){g=Date.now();e.apply(m,l)}function j(){f=c}if(i&&!f){k()}f&&clearTimeout(f);if(i===c&&n>d){k()}else{f=setTimeout(i?j:k,i===c?d-n:d)}}h._zid=e._zid=e._zid||a.proxy(e)._zid;return h},debounce:function(d,f,e){return f===c?a.throttle(250,d,false):a.throttle(d,f,e===c?false:e!==false)}});a.each("String Boolean RegExp Number Date Object Null Undefined".split(" "),function(e,d){var f;if("is"+d in a){return}switch(d){case"Null":f=function(g){return g===null};break;case"Undefined":f=function(g){return g===c};break;default:f=function(g){return new RegExp(d+"]","i").test(b(g))}}a["is"+d]=f});var b=a.toString})(Zepto);(function(d,g){var c=navigator.userAgent,a=navigator.appVersion,b=d.browser;d.extend(b,{qq:/qq/i.test(c),uc:/UC/i.test(c)||/UC/i.test(a)});b.uc=b.uc||!b.qq&&!b.chrome&&!b.firefox&&!/safari/i.test(c);try{b.version=b.uc?a.match(/UC(?:Browser)?\/([\d.]+)/)[1]:b.qq?c.match(/MQQBrowser\/([\d.]+)/)[1]:b.version}catch(f){}d.support=d.extend(d.support||{},{orientation:!(b.uc||(parseFloat(d.os.version)<5&&(b.qq||b.chrome)))&&!(d.os.android&&parseFloat(d.os.version)>3)&&"orientation" in window&&"onorientationchange" in window,touch:"ontouchend" in document,cssTransitions:"WebKitTransitionEvent" in window,has3d:"WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix()})})(Zepto);(function(b){b.matchMedia=(function(){var g=0,e="gmu-media-detect",d=b.fx.transitionEnd,h=b.fx.cssPrefix,f=b("<style></style>").append("."+e+"{"+h+"transition: width 0.001ms; width: 0; position: relative; bottom: -999999px;}\n").appendTo("head");return function(k){var m=e+g++,l=b('<div class="'+e+'" id="'+m+'"></div>').appendTo("body"),j=[],i;f.append("@media "+k+" { #"+m+" { width: 100px; } }\n");l.on(d,function(){i.matches=l.width()===100;b.each(j,function(n,o){b.isFunction(o)&&o.call(i,i)})});i={matches:l.width()===100,media:k,addListener:function(n){j.push(n);return this},removeListener:function(o){var n=j.indexOf(o);~n&&j.splice(n,1);return this}};return i}}());b(function(){var d=function(f){if(e!==f.matches){b(window).trigger("ortchange");e=f.matches}},e=true;b.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"};b.matchMedia(b.mediaQuery.ortchange).addListener(d)});function a(){b(window).on("scroll",b.debounce(80,function(){b(document).trigger("scrollStop")},false))}function c(){b(window).off("scroll");a()}a();b(window).on("pageshow",function(d){if(d.persisted){b(document).off("touchstart",c).one("touchstart",c)}})})(Zepto);
/*!Extend zepto.fix.js*/
(function(a,b){a.extend(a.fn,{fix:function(e){var d=this;if(d.attr("isFixed")){return d}d.css(e).css("position","fixed").attr("isFixed",true);var h=a('<div style="position:fixed;top:10px;"></div>').appendTo("body"),f=h[0].getBoundingClientRect().top,c=function(){if(window.pageYOffset>0){if(h[0].getBoundingClientRect().top!==f){d.css("position","absolute");g();a(document).on("scrollStop",g);a(window).on("ortchange",g)}a(document).off("scrollStop",c);h.remove()}},g=function(){d.css({top:window.pageYOffset+(e.bottom!==b?window.innerHeight-d.height()-e.bottom:(e.top||0)),left:e.right!==b?document.body.offsetWidth-d.width()-e.right:(e.left||0)});e.width=="100%"&&d.css("width",document.body.offsetWidth)};a(document).on("scrollStop",c);return d}})}(Zepto));
/*!Extend zepto.highlight.js*/
(function(e){var d,a=false,f,c,b=function(){clearTimeout(f);if(d&&(c=d.attr("highlight-cls"))){d.removeClass(c).attr("highlight-cls","");d=null}};e.extend(e.fn,{highlight:function(g){a=a||!!e(document).on("touchend.highlight touchmove.highlight touchcancel.highlight",b);b();return this.each(function(){var h=e(this);h.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.highlight");g&&h.on("touchstart.highlight",function(){f=e.later(function(){d=h.attr("highlight-cls",g).addClass(g)},100)})})}})})(Zepto);
/*!Extend zepto.imglazyload.js*/
(function(b){var a;b.fn.imglazyload=function(c){var e=Array.prototype.splice,c=b.extend({threshold:0,container:window,urlName:"data-url",placeHolder:"",eventName:"scrollStop",refresh:false,innerScroll:false,isVertical:true,startload:null},c),h=b(c.container),j=c.isVertical,d=b.isWindow(h.get(0)),f={win:[j?"scrollY":"scrollX",j?"innerHeight":"innerWidth"],img:[j?"top":"left",j?"height":"width"]};!d&&(f.win=f.img);function k(o){var n=d?window:h.offset(),l=n[f.win[0]],m=n[f.win[1]];return l>=o[f.img[0]]-c.threshold-m&&l<=o[f.img[0]]+o[f.img[1]]}a=b.slice(this).reverse();if(c.refresh){return this}function i(n){var l=b(n),m;b.isFunction(c.startload)&&c.startload.call(l);m=b("<img />").on("load",function(){l.replaceWith(m).trigger("loadcomplete");m.off("load")}).on("error",function(){var o=b.Event("error");l.trigger(o);o.defaultPrevented||a.push(n);m.off("error").remove()}).attr("src",l.attr(c.urlName))}function g(){var l,m,n,o;for(l=a.length;l--;){m=b(o=a[l]);n=m.offset();k(n)&&(e.call(a,l,1),i(o))}}b(document).ready(function(){c.placeHolder&&b(a).append(c.placeHolder);g()});!c.innerScroll&&b(window).on(c.eventName+" ortchange",function(){g()});b.fn.imglazyload.detect=g;return this}})(Zepto);
/*!Extend zepto.iscroll.js*/
/*
 * iScroll v4.2.2 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
(function(h,E){var u=Math,o=[],l=E.createElement("div").style,z=(function(){var H="webkitT,MozT,msT,OT,t".split(","),G,F=0,m=H.length;for(;F<m;F++){G=H[F]+"ransform";if(G in l){return H[F].substr(0,H[F].length-1)}}return false})(),D=z?"-"+z.toLowerCase()+"-":"",k=s("transform"),x=s("transitionProperty"),j=s("transitionDuration"),n=s("transformOrigin"),B=s("transitionTimingFunction"),e=s("transitionDelay"),A=(/android/gi).test(navigator.appVersion),r=(/hp-tablet/gi).test(navigator.appVersion),i=s("perspective") in l,y="ontouchstart" in h&&!r,d=!!z,f=s("transition") in l,g="onorientationchange" in h?"orientationchange":"resize",b=y?"touchstart":"mousedown",t=y?"touchmove":"mousemove",c=y?"touchend":"mouseup",w=y?"touchcancel":"mouseup",a=(function(){if(z===false){return false}var m={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return m[z]})(),q=(function(){return h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||h.msRequestAnimationFrame||function(m){return setTimeout(m,1)}})(),p=(function(){return h.cancelRequestAnimationFrame||h.webkitCancelAnimationFrame||h.webkitCancelRequestAnimationFrame||h.mozCancelRequestAnimationFrame||h.oCancelRequestAnimationFrame||h.msCancelRequestAnimationFrame||clearTimeout})(),C=i?" translateZ(0)":"",v=function(G,m){var H=this,F;H.wrapper=typeof G=="object"?G:E.getElementById(G);H.wrapper.style.overflow="hidden";H.scroller=H.wrapper.children[0];H.translateZ=C;H.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,onRefresh:null,onBeforeScrollStart:function(I){I.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(F in m){H.options[F]=m[F]}H.x=H.options.x;H.y=H.options.y;H.options.useTransform=d&&H.options.useTransform;H.options.useTransition=f&&H.options.useTransition;H.scroller.style[x]=H.options.useTransform?D+"transform":"top left";H.scroller.style[j]="0";H.scroller.style[n]="0 0";if(H.options.useTransition){H.scroller.style[B]="cubic-bezier(0.33,0.66,0.66,1)"}if(H.options.useTransform){H.scroller.style[k]="translate("+H.x+"px,"+H.y+"px)"+C}else{H.scroller.style.cssText+=";position:absolute;top:"+H.y+"px;left:"+H.x+"px"}H.refresh();H._bind(g,h);H._bind(b);if(H.options.checkDOMChanges){H.checkDOMTime=setInterval(function(){H._checkDOMChanges()},500)}};v.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:false,handleEvent:function(F){var m=this;switch(F.type){case b:if(!y&&F.button!==0){return}m._start(F);break;case t:m._move(F);break;case c:case w:m._end(F);break;case g:m._resize();break;case a:m._transitionEnd(F);break}},_checkDOMChanges:function(){if(this.moved||this.animating||(this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)){return}this.refresh()},_resize:function(){var m=this;setTimeout(function(){m.refresh()},A?200:0)},_pos:function(m,F){m=this.hScroll?m:0;F=this.vScroll?F:0;if(this.options.useTransform){this.scroller.style[k]="translate("+m+"px,"+F+"px) scale("+this.scale+")"+C}else{m=u.round(m);F=u.round(F);this.scroller.style.left=m+"px";this.scroller.style.top=F+"px"}this.x=m;this.y=F},_start:function(K){var J=this,F=y?K.touches[0]:K,G,m,L,I,H;if(!J.enabled){return}if(J.options.onBeforeScrollStart){J.options.onBeforeScrollStart.call(J,K)}if(J.options.useTransition){J._transitionTime(0)}J.moved=false;J.animating=false;J.distX=0;J.distY=0;J.absDistX=0;J.absDistY=0;J.dirX=0;J.dirY=0;J.isStopScrollAction=false;if(J.options.momentum){if(J.options.useTransform){G=getComputedStyle(J.scroller,null)[k].replace(/[^0-9\-.,]/g,"").split(",");m=+G[4];L=+G[5]}else{m=+getComputedStyle(J.scroller,null).left.replace(/[^0-9-]/g,"");L=+getComputedStyle(J.scroller,null).top.replace(/[^0-9-]/g,"")}if(m!=J.x||L!=J.y){J.isStopScrollAction=true;if(J.options.useTransition){J._unbind(a)}else{p(J.aniTime)}J.steps=[];J._pos(m,L);if(J.options.onScrollEnd){J.options.onScrollEnd.call(J)}}}J.startX=J.x;J.startY=J.y;J.pointX=F.pageX;J.pointY=F.pageY;J.startTime=K.timeStamp||Date.now();if(J.options.onScrollStart){J.options.onScrollStart.call(J,K)}J._bind(t,h);J._bind(c,h);J._bind(w,h)},_move:function(K){var H=this,F=y?K.touches[0]:K,G=F.pageX-H.pointX,m=F.pageY-H.pointY,L=H.x+G,J=H.y+m,I=K.timeStamp||Date.now();if(H.options.onBeforeScrollMove){H.options.onBeforeScrollMove.call(H,K)}H.pointX=F.pageX;H.pointY=F.pageY;if(L>0||L<H.maxScrollX){L=H.options.bounce?H.x+(G/2):L>=0||H.maxScrollX>=0?0:H.maxScrollX}if(J>H.minScrollY||J<H.maxScrollY){J=H.options.bounce?H.y+(m/2):J>=H.minScrollY||H.maxScrollY>=0?H.minScrollY:H.maxScrollY}H.distX+=G;H.distY+=m;H.absDistX=u.abs(H.distX);H.absDistY=u.abs(H.distY);if(H.absDistX<6&&H.absDistY<6){return}if(H.options.lockDirection){if(H.absDistX>H.absDistY+5){J=H.y;m=0}else{if(H.absDistY>H.absDistX+5){L=H.x;G=0}}}H.moved=true;H._beforePos?H._beforePos(J,m)&&H._pos(L,J):H._pos(L,J);H.dirX=G>0?-1:G<0?1:0;H.dirY=m>0?-1:m<0?1:0;if(I-H.startTime>300){H.startTime=I;H.startX=H.x;H.startY=H.y}if(H.options.onScrollMove){H.options.onScrollMove.call(H,K)}},_end:function(K){if(y&&K.touches.length!==0){return}var I=this,O=y?K.changedTouches[0]:K,L,N,G={dist:0,time:0},m={dist:0,time:0},H=(K.timeStamp||Date.now())-I.startTime,M=I.x,J=I.y,F;I._unbind(t,h);I._unbind(c,h);I._unbind(w,h);if(I.options.onBeforeScrollEnd){I.options.onBeforeScrollEnd.call(I,K)}if(!I.moved){if(y&&this.options.handleClick&&!I.isStopScrollAction){I.doubleTapTimer=setTimeout(function(){I.doubleTapTimer=null;L=O.target;while(L.nodeType!=1){L=L.parentNode}if(L.tagName!="SELECT"&&L.tagName!="INPUT"&&L.tagName!="TEXTAREA"){N=E.createEvent("MouseEvents");N.initMouseEvent("click",true,true,K.view,1,O.screenX,O.screenY,O.clientX,O.clientY,K.ctrlKey,K.altKey,K.shiftKey,K.metaKey,0,null);N._fake=true;L.dispatchEvent(N)}},0)}I._resetPos(400);if(I.options.onTouchEnd){I.options.onTouchEnd.call(I,K)}return}if(H<300&&I.options.momentum){G=M?I._momentum(M-I.startX,H,-I.x,I.scrollerW-I.wrapperW+I.x,I.options.bounce?I.wrapperW:0):G;m=J?I._momentum(J-I.startY,H,-I.y,(I.maxScrollY<0?I.scrollerH-I.wrapperH+I.y-I.minScrollY:0),I.options.bounce?I.wrapperH:0):m;M=I.x+G.dist;J=I.y+m.dist;if((I.x>0&&M>0)||(I.x<I.maxScrollX&&M<I.maxScrollX)){G={dist:0,time:0}}if((I.y>I.minScrollY&&J>I.minScrollY)||(I.y<I.maxScrollY&&J<I.maxScrollY)){m={dist:0,time:0}}}if(G.dist||m.dist){F=u.max(u.max(G.time,m.time),10);I.scrollTo(u.round(M),u.round(J),F);if(I.options.onTouchEnd){I.options.onTouchEnd.call(I,K)}return}I._resetPos(200);if(I.options.onTouchEnd){I.options.onTouchEnd.call(I,K)}},_resetPos:function(G){var m=this,H=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,F=m.y>=m.minScrollY||m.maxScrollY>0?m.minScrollY:m.y<m.maxScrollY?m.maxScrollY:m.y;if(H==m.x&&F==m.y){if(m.moved){m.moved=false;if(m.options.onScrollEnd){m.options.onScrollEnd.call(m)}if(m._afterPos){m._afterPos()}}return}m.scrollTo(H,F,G||0)},_transitionEnd:function(F){var m=this;if(F.target!=m.scroller){return}m._unbind(a);m._startAni()},_startAni:function(){var K=this,F=K.x,m=K.y,I=Date.now(),J,H,G;if(K.animating){return}if(!K.steps.length){K._resetPos(400);return}J=K.steps.shift();if(J.x==F&&J.y==m){J.time=0}K.animating=true;K.moved=true;if(K.options.useTransition){K._transitionTime(J.time);K._pos(J.x,J.y);K.animating=false;if(J.time){K._bind(a)}else{K._resetPos(0)}return}G=function(){var L=Date.now(),N,M;if(L>=I+J.time){K._pos(J.x,J.y);K.animating=false;if(K.options.onAnimationEnd){K.options.onAnimationEnd.call(K)}K._startAni();return}L=(L-I)/J.time-1;H=u.sqrt(1-L*L);N=(J.x-F)*H+F;M=(J.y-m)*H+m;K._pos(N,M);if(K.animating){K.aniTime=q(G)}};G()},_transitionTime:function(m){m+="ms";this.scroller.style[j]=m},_momentum:function(L,F,J,m,N){var K=0.0006,G=u.abs(L)*(this.options.speedScale||1)/F,H=(G*G)/(2*K),M=0,I=0;if(L>0&&H>J){I=N/(6/(H/G*K));J=J+I;G=G*J/H;H=J}else{if(L<0&&H>m){I=N/(6/(H/G*K));m=m+I;G=G*m/H;H=m}}H=H*(L<0?-1:1);M=G/K;return{dist:H,time:u.round(M)}},_offset:function(m){var G=-m.offsetLeft,F=-m.offsetTop;while(m=m.offsetParent){G-=m.offsetLeft;F-=m.offsetTop}if(m!=this.wrapper){G*=this.scale;F*=this.scale}return{left:G,top:F}},_bind:function(G,F,m){o.concat([F||this.scroller,G,this]);(F||this.scroller).addEventListener(G,this,!!m)},_unbind:function(G,F,m){(F||this.scroller).removeEventListener(G,this,!!m)},destroy:function(){var G=this;G.scroller.style[k]="";G._unbind(g,h);G._unbind(b);G._unbind(t,h);G._unbind(c,h);G._unbind(w,h);if(G.options.useTransition){G._unbind(a)}if(G.options.checkDOMChanges){clearInterval(G.checkDOMTime)}if(G.options.onDestroy){G.options.onDestroy.call(G)}for(var F=0,m=o.length;F<m;){o[F].removeEventListener(o[F+1],o[F+2]);o[F]=null;F=F+3}o=[];var H=E.createElement("div");H.appendChild(this.wrapper);H.innerHTML="";G.wrapper=G.scroller=H=null},refresh:function(){var m=this,F;m.wrapperW=m.wrapper.clientWidth||1;m.wrapperH=m.wrapper.clientHeight||1;m.minScrollY=-m.options.topOffset||0;m.scrollerW=u.round(m.scroller.offsetWidth*m.scale);m.scrollerH=u.round((m.scroller.offsetHeight+m.minScrollY)*m.scale);m.maxScrollX=m.wrapperW-m.scrollerW;m.maxScrollY=m.wrapperH-m.scrollerH+m.minScrollY;m.dirX=0;m.dirY=0;if(m.options.onRefresh){m.options.onRefresh.call(m)}m.hScroll=m.options.hScroll&&m.maxScrollX<0;m.vScroll=m.options.vScroll&&(!m.options.bounceLock&&!m.hScroll||m.scrollerH>m.wrapperH);F=m._offset(m.wrapper);m.wrapperOffsetLeft=-F.left;m.wrapperOffsetTop=-F.top;m.scroller.style[j]="0";m._resetPos(400)},scrollTo:function(m,L,K,J){var I=this,H=m,G,F;I.stop();if(!H.length){H=[{x:m,y:L,time:K,relative:J}]}for(G=0,F=H.length;G<F;G++){if(H[G].relative){H[G].x=I.x-H[G].x;H[G].y=I.y-H[G].y}I.steps.push({x:H[G].x,y:H[G].y,time:H[G].time||0})}I._startAni()},scrollToElement:function(m,G){var F=this,H;m=m.nodeType?m:F.scroller.querySelector(m);if(!m){return}H=F._offset(m);H.left+=F.wrapperOffsetLeft;H.top+=F.wrapperOffsetTop;H.left=H.left>0?0:H.left<F.maxScrollX?F.maxScrollX:H.left;H.top=H.top>F.minScrollY?F.minScrollY:H.top<F.maxScrollY?F.maxScrollY:H.top;G=G===undefined?u.max(u.abs(H.left)*2,u.abs(H.top)*2):G;F.scrollTo(H.left,H.top,G)},scrollToPage:function(G,F,I){var H=this,m,J;I=I===undefined?400:I;if(H.options.onScrollStart){H.options.onScrollStart.call(H)}m=-H.wrapperW*G;J=-H.wrapperH*F;if(m<H.maxScrollX){m=H.maxScrollX}if(J<H.maxScrollY){J=H.maxScrollY}H.scrollTo(m,J,I)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(t,h);this._unbind(c,h);this._unbind(w,h)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition){this._unbind(a)}else{p(this.aniTime)}this.steps=[];this.moved=false;this.animating=false},isReady:function(){return !this.moved&&!this.animating}};function s(m){if(z===""){return m}m=m.charAt(0).toUpperCase()+m.substr(1);return z+m}l=null;if(typeof exports!=="undefined"){exports.iScroll=v}else{h.iScroll=v}(function(H){if(!H){return}var G=v,I=0,F={};function m(K,J){var L="iscroll"+I++;K.data("_iscroll_",L);return F[L]=new G(K[0],J)}h.iScroll=function(K,J){return m(H(typeof K=="string"?"#"+K:K),J)};H.fn.iScroll=function(K){var J=[];this.each(function(N,O){if(typeof K=="string"){var M=F[H(O).data("_iscroll_")],P;if(M&&(P=M[K])){var L=H.isFunction(P)?P.apply(M,Array.prototype.slice.call(arguments,1)):P;if(L!==M&&L!==undefined){J.push(L)}}}else{if(!H(O).data("_iscroll_")){m(H(O),K)}}});return J.length?J:this}})(h.Zepto||null)})(window,document);
/*!Extend zepto.location.js*/
(function(a){a.extend(a.fn,{location:function(e,d,c){a.ajaxJSONP({url:"http://api.map.baidu.com/api?v=1.4&callback=?",success:function(){window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(b,f,a.extend({enableHighAccuracy:true},c)):(d&&d("\u6d4f\u89c8\u5668\u4e0d\u652f\u6301html5\u6765\u83b7\u53d6\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f"))}});function b(g){var h=g.coords.longitude,j=g.coords.latitude,i="http://api.map.baidu.com/ag/coord/convert?from=2&to=4&x="+h+"&y="+j+"&callback=?";a.ajaxJSONP({url:i,success:function(l){var k=new BMap.Geocoder();k.getLocation(new BMap.Point(l.x,l.y),function(m){e&&e(m)})}})}function f(){d&&d(arguments)}}})})(Zepto);
/*!Extend zepto.position.js*/
(function(b,d){var a=b.fn.offset,c={};b.fn.offset=function(e){if(!b.isPlainObject(e)){return a.apply(this,arguments)}return this.each(function(f){c.setOffset(this,e,f)})};c.setOffset=function(h,r,k){var q=b(h),l=q.css("position"),f=q.offset(),e=q.css("top"),o=q.css("left"),p=(l==="absolute"||l==="fixed")&&~b.inArray("auto",[e,o]),n={},m={},g,j;l==="static"&&q.css("position","relative");m=p?q.position():m;g=m.top||parseFloat(e)||0;j=m.left||parseFloat(o)||0;r=b.isFunction(r)?r.call(h,k,f):r;r.top!=null&&(n.top=r.top-f.top+g);r.left!=null&&(n.left=r.left-f.left+j);"using" in r?r.using.call(h,n):q.css(n)}})(Zepto);(function(e,c){var g=e.fn.position||function(){if(!this.length){return null}var o=this.offsetParent(),p=this.offset(),n=/^(?:body|html)$/i.test(o[0].nodeName)?{top:0,left:0}:o.offset();n.top+=parseFloat(o.css("border-top-width"))||0;n.left+=parseFloat(o.css("border-left-width"))||0;return{top:p.top-n.top,left:p.left-n.left}},l=Math.round,d=/left|center|right/,h=/top|center|bottom/,a=/([\+\-]\d+%?)/,k=/^\w+/,b=/%$/;function m(p,o,n){return[parseInt(p[0],10)*(b.test(p[0])?o/100:1),parseInt(p[1],10)*(b.test(p[1])?n/100:1)]}function j(n,o){return parseInt(n.css(o),10)||0}function f(o){var n=o[0];return n.nodeType===9?{width:o.width(),height:o.height(),top:0,left:0}:n==window?{width:o.width(),height:o.height(),top:n.pageYOffset,left:n.pageXOffset}:n.preventDefault&&(n=n.touches?n.touches[0]:n)?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:o.offset()}function i(p){var n=e(p=(p||window)),o=p==window,q=o?{left:0,top:0}:n.offset();return{element:n,isWindow:o,offset:q,width:q.width||n.width(),height:q.height||n.height(),scrollLeft:o?p.pageXOffset:p.scrollLeft,scrollTop:o?p.pageYOffset:p.scrollTop}}e.fn.position=function(n){if(!n||!n.of){return g.call(this)}n=e.extend({},n);var x,v,t,s,o,u=e(n.of),r,w,q=i(n.within),p={};o=f(u);u[0].preventDefault&&(n.at="left top");v=o.width;t=o.height;s={left:o.left,top:o.top};e.each(["my","at"],function(){var y=(n[this]||"").split(" ");y.length===1&&y[d.test(y[0])?"push":"unshift"]("center");y[0]=d.test(y[0])?y[0]:"center";y[1]=h.test(y[1])?y[1]:"center";p[this]=[a.test(y[0])?RegExp.$1:0,a.test(y[1])?RegExp.$1:0];n[this]=[k.exec(y[0])[0],k.exec(y[1])[0]]});s.left+=(r=n.at[0])==="right"?v:r=="center"?v/2:0;s.top+=(r=n.at[1])==="bottom"?t:r=="center"?t/2:0;x=m(p.at,v,t);s.left+=x[0];s.top+=x[1];return this.each(function(){var z,B=e(this),E=B.offset(),F,D=E.width,A=E.height,C=j(B,"marginLeft"),y=j(B,"marginTop"),J=D+C+j(B,"marginRight"),I=A+y+j(B,"marginBottom"),G=e.extend({},s),H=m(p.my,D,A);G.left-=(F=n.my[0])==="right"?D:F==="center"?D/2:0;G.top-=(F=n.my[1])==="bottom"?A:F==="center"?A/2:0;G.left+=H[0];G.top+=H[1];G.left=l(G.left);G.top=l(G.top);z={marginLeft:C,marginTop:y};e.isFunction(w=n.collision)&&w.call(this,G,{targetWidth:v,targetHeight:t,elemWidth:D,elemHeight:A,collisionPosition:z,collisionWidth:J,collisionHeight:I,offset:[x[0]+H[0],x[1]+H[1]],my:n.my,at:n.at,within:q,elem:B});B.offset(e.extend(G,{using:n.using}))})}})(Zepto);
/*!Extend zepto.ui.js*/
(function(f,c){var b=1,e=function(){},j="<%=name%>-<%=id%>",h=(function(){var n={},o=0,m="GMUWidget"+(+new Date());return function(s,r,t){var p=s[m]||(s[m]=++o),q=n[p]||(n[p]={});!f.isUndefined(t)&&(q[r]=t);f.isNull(t)&&delete q[r];return q[r]}})();f.ui=f.ui||{version:"2.0.5",guid:g,define:function(n,p,o){if(o){p.inherit=o}var m=f.ui[n]=d(function(r,q){var s=k(m.prototype,{_id:f.parseTpl(j,{name:n,id:g()})});s._createWidget.call(s,r,q,m.plugins);return s},p);return i(n,m)},isWidget:function(n,m){return n instanceof (m===c?l:f.ui[m]||e)}};function g(){return b++}function k(m,n){var o={};Object.create?o=Object.create(m):o.__proto__=m;return f.extend(o,n||{})}function d(m,n){if(n){a(m,n);f.extend(m.prototype,n)}return f.extend(m,{plugins:[],register:function(o){if(f.isObject(o)){f.extend(this.prototype,o);return}this.plugins.push(o)}})}function a(m,p){var n=p.inherit||l,o=n.prototype,q;q=m.prototype=k(o,{$factory:m,$super:function(r){var s=o[r];return f.isFunction(s)?s.apply(this,f.slice(arguments,1)):s}});q._data=f.extend({},o._data,p._data);delete p._data;return m}function i(m){f.fn[m]=function(p){var o,q,n=f.slice(arguments,1);f.each(this,function(r,s){q=h(s,m)||f.ui[m](s,f.extend(f.isPlainObject(p)?p:{},{setup:true}));if(f.isString(p)){if(!f.isFunction(q[p])&&p!=="this"){throw new Error(m+"\u7ec4\u4ef6\u6ca1\u6709\u6b64\u65b9\u6cd5")}o=f.isFunction(q[p])?q[p].apply(q,n):c}if(o!==c&&o!==q||p==="this"&&(o=q)){return false}o=c});return o!==c?o:this}}var l=function(){};f.extend(l.prototype,{_data:{status:true},data:function(m,o){var n=this._data;if(f.isObject(m)){return f.extend(n,m)}else{return !f.isUndefined(o)?n[m]=o:n[m]}},_createWidget:function(o,q,m){if(f.isObject(o)){q=o||{};o=c}var r=f.extend({},this._data,q);f.extend(this,{_el:o?f(o):c,_data:r});var p=this;f.each(m,function(u,v){var s=v.apply(p);if(s&&f.isPlainObject(s)){var t=p._data.disablePlugin;if(!t||f.isString(t)&&!~t.indexOf(s.pluginName)){delete s.pluginName;f.each(s,function(w,y){var x;if((x=p[w])&&f.isFunction(y)){p[w]=function(){p[w+"Org"]=x;return y.apply(p,arguments)}}else{p[w]=y}})}}});if(r.setup){this._setup(o&&o.getAttribute("data-mode"))}else{this._create()}this._init();var p=this,n=this.trigger("init").root();n.on("tap",function(s){(s.bubblesList||(s.bubblesList=[])).push(p)});h(n[0],p._id.split("-")[0],p)},_create:function(){},_setup:function(m){},root:function(m){return this._el=m||this._el},id:function(m){return this._id=m||this._id},destroy:function(){var n=this,m;m=this.trigger("destroy").off().root();m.find("*").off();h(m[0],n._id.split("-")[0],null);m.off().remove();this.__proto__=null;f.each(this,function(o){delete n[o]})},on:function(m,n){this.root().on(m,f.proxy(n,this));return this},off:function(m,n){this.root().off(m,n);return this},trigger:function(n,o){n=f.isString(n)?f.Event(n):n;var p=this.data(n.type),m;if(p&&f.isFunction(p)){n.data=o;m=p.apply(this,[n].concat(o));if(m===false||n.defaultPrevented){return this}}this.root().trigger(n,o);return this}})})(Zepto);
/*!Widget slider.js*/
(function(a,b){a.ui.define("slider",{_data:{viewNum:1,imgInit:2,itemRender:null,imgZoom:false,loop:false,stopPropagation:false,springBackDis:15,autoPlay:true,autoPlayTime:4000,animationTime:400,showArr:true,showDot:true,slide:null,slideend:null,index:0,_stepLength:1,_direction:1},_create:function(){var g=this,e=0,d,c=[],f=g.data("content");g._initConfig();(g.root()||g.root(a("<div></div>"))).addClass("ui-slider").appendTo(g.data("container")||(g.root().parent().length?"":document.body)).html('<div class="ui-slider-wheel"><div class="ui-slider-group">'+(function(){if(g.data("itemRender")){var h=g.data("itemRender");while(d=h.call(g,e++)){c.push('<div class="ui-slider-item">'+d+"</div>")}}else{while(d=f[e++]){c.push('<div class="ui-slider-item"><a href="'+d.href+'"><img lazyload="'+d.pic+'"/></a>'+(d.title?"<p>"+d.title+"</p>":"")+"</div>")}}c.push(g.data("loop")?'</div><div class="ui-slider-group">'+c.join("")+"</div></div>":"</div></div>");return c.join("")}()));g._addDots()},_setup:function(g){var e=this,c=e.root().addClass("ui-slider");e._initConfig();if(!g){var d=c.children(),f=a('<div class="ui-slider-group"></div>').append(d.addClass("ui-slider-item"));c.empty().append(a('<div class="ui-slider-wheel"></div>').append(f).append(e.data("loop")?f.clone():""));e._addDots()}else{e.data("loop")&&a(".ui-slider-wheel",c).append(a(".ui-slider-group",c).clone())}},_init:function(){var f=this,d=f.data("index"),c=f.root(),e=a.proxy(f._eventHandler,f);f._setWidth();a(f.data("wheel")).on("touchstart touchmove touchend touchcancel webkitTransitionEnd",e);a(window).on("ortchange",e);a(".ui-slider-pre",c).on("tap",function(){f.pre()});a(".ui-slider-next",c).on("tap",function(){f.next()});f.on("destroy",function(){clearTimeout(f.data("play"));a(window).off("ortchange",e)});f.data("autoPlay")&&f._setTimeout()},_initConfig:function(){var c=this._data;if(c.viewNum>1){c.loop=false;c.showDot=false;c.imgInit=c.viewNum+1}},_addDots:function(){var f=this,c=f.root(),e=a(".ui-slider-item",c).length/(f.data("loop")?2:1),d=[];if(f.data("showDot")){d.push('<p class="ui-slider-dots">');while(e--){d.push("<b></b>")}d.push("</p>")}f.data("showArr")&&(d.push('<span class="ui-slider-pre"><b></b></span><span class="ui-slider-next"><b></b></span>'));c.append(d.join(""))},_setWidth:function(){var s=this,f=s._data,t=s.root(),c=Math.ceil(t.width()/f.viewNum),u=t.height(),n=f.loop,q=a(".ui-slider-item",t).toArray(),g=q.length,p=a(".ui-slider-wheel",t).width(c*g)[0],r=a(".ui-slider-dots b",t).toArray(),e=a("img",t).toArray(),v=e.concat(),d={},m,k,h=f.imgInit||g;f.showDot&&(r[0].className="ui-slider-dot-select");if(f.imgZoom){a(v).on("load",function(){var l=this.height,i=this.width,o=Math.min(l,u),j=Math.min(i,c);if(l/u>i/c){this.style.cssText+="height:"+o+"px;width:"+o/l*i+"px;"}else{this.style.cssText+="height:"+j/i*l+"px;width:"+j+"px"}this.onload=null})}for(m=0;m<g;m++){q[m].style.cssText+="width:"+c+"px;position:absolute;-webkit-transform:translate3d("+m*c+"px,0,0);z-index:"+(900-m);d[m]=n?(m>g/2-1?m-g/2:m):m;if(m<h){k=v.shift();k&&(k.src=k.getAttribute("lazyload"));if(f.loop){k=e[m+g/2];k&&(k.src=k.getAttribute("lazyload"))}}}s.data({root:t[0],wheel:p,items:q,lazyImgs:v,allImgs:e,length:g,width:c,height:u,dots:r,dotIndex:d,dot:r[0]});return s},_eventHandler:function(d){var c=this;switch(d.type){case"touchmove":c._touchMove(d);break;case"touchstart":c._touchStart(d);break;case"touchcancel":case"touchend":c._touchEnd();break;case"webkitTransitionEnd":c._transitionEnd();break;case"ortchange":c._resize.call(c);break}},_touchStart:function(d){var c=this;c.data({pageX:d.touches[0].pageX,pageY:d.touches[0].pageY,S:false,T:false,X:0});c.data("wheel").style.webkitTransitionDuration="0ms"},_touchMove:function(g){var h=this._data,i=h.X=g.touches[0].pageX-h.pageX;if(!h.T){var c=h.index,f=h.length,d=Math.abs(i)<Math.abs(g.touches[0].pageY-h.pageY);h.loop&&(h.index=c>0&&(c<f-1)?c:(c===f-1)&&i<0?f/2-1:c===0&&i>0?f/2:c);d||clearTimeout(h.play);h.T=true;h.S=d}if(!h.S){h.stopPropagation&&g.stopPropagation();g.preventDefault();h.wheel.style.webkitTransform="translate3d("+(i-h.index*h.width)+"px,0,0)"}},_touchEnd:function(){var d=this,e=d._data;if(!e.S){var f=e.springBackDis,c=e.X<=-f?Math.ceil(-e.X/e.width):(e.X>f)?-Math.ceil(e.X/e.width):0;e._stepLength=Math.abs(c);d._slide(e.index+c)}},_slide:function(d,h){var f=this,g=f._data,e=g.length,c=e-g.viewNum+1;if(-1<d&&d<c){f._move(d)}else{if(d>=c){if(!g.loop){f._move(c-(h?2:1));g._direction=-1}else{g.wheel.style.cssText+="-webkit-transition:0ms;-webkit-transform:translate3d(-"+(e/2-1)*g.width+"px,0,0);";g._direction=1;a.later(function(){f._move(e/2)},20)}}else{if(!g.loop){f._move(h?1:0)}else{g.wheel.style.cssText+="-webkit-transition:0ms;-webkit-transform:translate3d(-"+(e/2)*g.width+"px,0,0);";a.later(function(){f._move(e/2-1)},20)}g._direction=1}}return f},_move:function(d){var f=this._data,e=f.dotIndex[d];this.trigger("slide",e);if(f.lazyImgs.length){var c=f.allImgs[d];c&&c.src||(c.src=c.getAttribute("lazyload"))}if(f.showDot){f.dot.className="";f.dots[e].className="ui-slider-dot-select";f.dot=f.dots[e]}f.index=d;f.wheel.style.cssText+="-webkit-transition:"+f.animationTime+"ms;-webkit-transform:translate3d(-"+d*f.width+"px,0,0);"},_transitionEnd:function(){var f=this,g=f._data;f.trigger("slideend",g.dotIndex[g.index]);if(g.lazyImgs.length){for(var e=g._stepLength,d=0;d<e;d++){var c=g.lazyImgs.shift();c&&(c.src=c.getAttribute("lazyload"));if(g.loop){c=g.allImgs[g.index+g.length/2];c&&!c.src&&(c.src=c.getAttribute("lazyload"))}}g._stepLength=1}f._setTimeout()},_setTimeout:function(){var c=this,d=c._data;if(!d.autoPlay){return c}clearTimeout(d.play);d.play=a.later(function(){c._slide.call(c,d.index+d._direction,true)},d.autoPlayTime);return c},_resize:function(){var g=this,h=g._data,e=h.root.offsetWidth/h.viewNum,f=h.length,c=h.items;if(!e){return g}h.width=e;clearTimeout(h.play);for(var d=0;d<f;d++){c[d].style.cssText+="width:"+e+"px;-webkit-transform:translate3d("+d*e+"px,0,0);"}h.wheel.style.removeProperty("-webkit-transition");h.wheel.style.cssText+="width:"+e*f+"px;-webkit-transform:translate3d(-"+h.index*e+"px,0,0);";h._direction=1;g._setTimeout();return g},pre:function(){var c=this;c._slide(c.data("index")-1);return c},next:function(){var c=this;c._slide(c.data("index")+1);return c},stop:function(){var c=this;clearTimeout(c.data("play"));c.data("autoPlay",false);return c},resume:function(){var c=this;c.data("_direction",1);c.data("autoPlay",true);c._setTimeout();return c}})})(Zepto);
/*!Widget slider.dynamic.js*/
(function(b){var a=function(c){return'<div class="ui-slider-item"><a href="'+c.href+'"><img lazyload="'+c.pic+'"/></a>'+(c.title?"<p>"+c.title+"</p>":"")+"</div>"};b.ui.slider.register(function(){return{pluginName:"dynamic",_setup:function(){throw new Error("This plugin does not support setup mode")},_create:function(){var d=this._data,e,c=d.content;d.autoPlay=false;d.loop=false;d.viewNum=1;d.showDot=false;e=b('<div class="ui-slider-group"></div>');this._renderItems(c,d.index||0,e,d);(this.root()||this.root(b("<div></div>"))).addClass("ui-slider").appendTo(d.container||(this.root().parent().length?"":document.body)).html(b('<div class="ui-slider-wheel"></div>').append(e));this._addDots()},_renderItems:function(k,j,l,g){var h,e,d,m,f,c=g.itemRender||a;h=k.slice(j,j+3);this._active=e=k[j];d=3-h.length;d&&(h=k.slice(j-d,j).concat(h));g.index=b.inArray(e,this._pool=h);this._index=j;for(f=0;f<3&&(m=h[f]);f++){l.append(c(m))}this._loadImages(l.find("img[lazyload]"))},_init:function(){this._initOrg();this._adjustPos();this.trigger("slide",[this._index||0,this._active])},_transitionEnd:function(){this._transitionEndOrg();this._adjustPos()},_adjustPos:function(){var g=this._data,l=this.root(),j=g.content,e=j.length,o,f,d=g.width,n=l.find(".ui-slider-group"),c=g.itemRender||a,i,k,m,h;i=b.inArray(this._active,j);k=g.index;m=k-1;h=i+m;if(m&&h<e&&h>=0){o=j[h];f=b(c(o));this._loadImages(f.find("img[lazyload]"));n.children().eq(1-m).remove();n[m<0?"prepend":"append"](f);this._pool.splice(1-m,1);this._pool[m<0?"unshift":"push"](o);g.index-=m;g.items=n.children().each(function(p){this.style.cssText+="width:"+d+"px;position:absolute;-webkit-transform:translate3d("+p*d+"px,0,0);z-index:"+(900-p)});g.wheel.style.cssText+="-webkit-transition:0ms;-webkit-transform:translate3d(-"+g.index*d+"px,0,0);"}if(i===0||i===e-1){this.trigger("edge",[i===0,this._active])}return this},_move:function(c){var d=this._data,e;d.index=c;this._active=this._pool[c];this._index=e=b.inArray(this._active,d.content);this.trigger("slide",[e,this._active]);d.wheel.style.cssText+="-webkit-transition:"+(d.animationTime||"0")+"ms;-webkit-transform:translate3d(-"+d.index*d.width+"px,0,0);"},_touchStart:function(h){var d=this._data,g,f,c;this._touchStartOrg.apply(this,arguments);g=-d.index*d.width;c=getComputedStyle(d.wheel,null)["webkitTransform"].replace(/[^0-9\-.,]/g,"").split(",");f=+c[4];if(g!==f){this._adjustPos()}},_loadImages:function(d){var c=this._data;c.imgZoom&&d.on("load",function(){var j=this.height,f=this.width,i=c.width,e=c.height,k=Math.min(j,e),g=Math.min(f,i);b(this).off("load",arguments.callee);this.style.cssText+=j/e>f/i?("height:"+k+"px;width:"+k/j*f+"px;"):("height:"+g/f*j+"px;width:"+g+"px")});d.each(function(){this.src=this.getAttribute("lazyload");this.removeAttribute("lazyload")})},update:function(e){var f=this._data,h,d=f.width,g,c=b.inArray(g=this._active,e);~c||(c=f._direction>0?0:e.length-1);h=this.root().find(".ui-slider-group").empty();this._renderItems(f.content=e,c,h,f);f.items=h.children().each(function(j){this.style.cssText+="width:"+d+"px;position:absolute;-webkit-transform:translate3d("+j*d+"px,0,0);z-index:"+(900-j)});this._adjustPos();g!==this._active&&this.trigger("slide",[c||0,this._active])}}})})(Zepto);
/*!Widget suggestion.js*/
(function(a,b){a.ui.define("suggestion",{_data:{listCount:50,isCache:true,isStorage:true,minChars:0,maxChars:1000,useIscroll:true,offset:{x:0,y:0,w:0},confirmClearHistory:true},_create:function(){var e=this,i=+new Date(),h="ui-input-mask-"+i,d=e.data("id","ui-suggestion-"+a.ui.guid()),g=e.root(a(e.data("container"))).attr("autocomplete","off"),f=e.data("formID"),c=g.parent();e.data({inputWidth:g.get(0).offsetWidth,cacheData:{},form:f?a(f):g.closest("form")});if(c.attr("class")!="ui-input-mask"){c=a('<div id="'+h+'" class="ui-input-mask"></div>').appendTo(g.parent()).append(g)}e.data("maskElem",c);e.data("wrapper",a('<div id="'+d+'" class="ui-suggestion"><div class="ui-suggestion-content"><div class="ui-suggestion-scroller"></div></div><div class="ui-suggestion-button"></div></div>').appendTo(c));e._initSuggestionOffset()},_init:function(){var e=this,f=e.root(),d=e.data("form"),c=a.proxy(e._eventHandler,e);e.data("wrapper").on("touchstart",c);d.length&&d.on("submit",c);f.on("focus input",c).parent().on("touchstart",c);a(window).on("ortchange",c);e.data("autoClose")&&a(document).on("tap",c);e.on("destroy",function(){var h=this,g=h.data("maskElem");a(document).off("tap",c);a(window).off("ortchange",c);clearTimeout(h.data("timeId"));clearTimeout(h.data("hideTimer"));g.find("*").off();h.data("iScroll")&&h.data("iScroll").destroy();g.off().remove()})._setSize()},_setup:function(){var c=this;c.data("container",c.root());c._create()},_initSuggestionOffset:function(){var f=this,e,c=f.data("wrapper"),h=f.root(),g=f.data("offset"),d=2*parseInt(c.css("border-left-width")||0);f.data("pos",h.height()+(g.y||0));f.data("realWidth",(f.data("width")||h.width())-d);c.css({position:"absolute",left:g.x||0});return f},_setSize:function(){var d=this,c=d.data("realWidth"),e=d.root().parent().width()-d.data("inputWidth");d.data("wrapper").css("width",c+e);return d},_posAdapt:function(c){var d=this;c?d._setPos().data("timeId",a.later(function(){d._setPos()},200,true)):clearInterval(d.data("timeId"));return d},_setPos:function(){var g=this,f=window,c=g.data("wrapper"),h=g.root(),k=parseFloat(c.height()),e=g.data("offset"),i=parseFloat(g.data("pos")),j=h.offset().top-f.pageYOffset,d=a(f).height()-j;if(g.data("posAdapt")&&j>d){c.css("top",-k-(e.y||0)+"px")}else{c.css("top",i)}return g},_change:function(g){var d=this,f=d._cacheData(g),c=d.data("isCache"),e=d.data("source");return f&&c?d._render(g,f):d._sendRequest(g)},_eventHandler:function(h){var d=this,c=h.type,g=h.target,f=d.data("maskElem").get(0);if(!d.data("status")){return}switch(c){case"focus":d._setSize()._showList()._setPos().trigger("open");break;case"touchstart":case"mousedown":if(!h.formDelete){break}h.preventDefault();case"input":d._showList();break;case"ortchange":d._setSize()._setPos();break;case"submit":d.data("isStorage")&&d._localStorage(d.getValue());case"click":case"tap":if(!(f.compareDocumentPosition(g)&16)){d.hide()}break}},_showList:function(){var c=this,e=c.getValue(),d=c._localStorage();if(e!==""&&(e.length<parseFloat(c.data("minChars"))||e.length>parseFloat(c.data("maxChars")))){return c}return e?c._change(e):d?c._render(null,{s:d.split(encodeURIComponent(","))}):c.hide()},_bindSuggestionListEvent:function(){var c=this,d=c.root();c.data("wrapper").find(".ui-suggestion-result").on("tap",function(h){var g=h.target,f=this;setTimeout(function(){if(g&&g.className=="ui-suggestion-plus"){d.val(g.getAttribute("data-item")).trigger("input")}else{c._select(f)._submit()}},400)}).highlight("ui-suggestion-result-highlight");return c},_bindCloseEvent:function(){var c=this,d=c.data("wrapper");d.find("span:first-child").on("click",function(){a.later(function(){c.clearHistory()},a.os.android?200:0)});d.find("span:last-child").on("click",function(){c.hide().leaveInput().trigger("close")});return c},_sendRequest:function(g){var f=this,d=f.data("source"),h=f.data("param"),c="suggestion_"+(+new Date()),e=f.data("sendRequest");if(a.isFunction(e)){e(g,function(i){f._render(g,i)._cacheData(g,i)})}else{if(g){d+=(d.indexOf("?")===-1?"?":"")+"&wd="+encodeURIComponent(g);d.indexOf("&cb=")===-1&&(d+="&cb="+c);h&&(d+="&"+h);window[c]=function(i){f._render(g,i)._cacheData(g,i);a('[src="'+d+'"]').remove();delete window[c]};a.ajax({url:d,dataType:"jsonp"})}}return f},getValue:function(){return a.trim(this.root().val())},_render:function(k,h){var l=this,i,f=l.data("wrapper"),e=f.find(".ui-suggestion-content"),c=f.find(".ui-suggestion-button"),d=l.data("renderList"),m=l.data("renderEvent"),g='<span style="display:none;"></span><span>\u5173\u95ed</span>';k===null&&(g="<span>\u6e05\u9664\u5386\u53f2\u8bb0\u5f55</span><span>\u5173\u95ed</span>");i=d?d.apply(l,[k,h]):l._renderList(k,h);if(i){e.find("*").off();e.find(".ui-suggestion-scroller").html(i);c.find("*").off();c.html(g);m?m.apply(l):l._bindSuggestionListEvent();l._bindCloseEvent()._show();if(l.data("useIscroll")){h.s.length>=2?e.css("height",l.data("height")||66):e.css("height",38);var j=(l.data("iScroll")||l.data("iScroll",new iScroll(e.get(0),{topOffset:0,hScroll:false,vScrollbar:false,hScrollbar:false})));j.scrollTo(0,0);j.refresh()}else{e.on("touchstart",function(n){n.preventDefault()})}}else{l.hide()}return l},_renderList:function(i,h){var g=this,c=g.data("listCount"),f=g.data("usePlus"),e="<ul>",d=h.s;if(!h||!d||!d.length){this.hide();return}d=d.slice(0,c);i=this._htmlEncode(i)||null;a.each(d,function(j,k){k=g._htmlEncode(k);var l=a.trim(k).replace(i,"<span>"+i+"</span>");if(f){l+='<div class="ui-suggestion-plus" data-item="'+k+'"></div>'}e+='<li><div class="ui-suggestion-result">'+l+"</div></li>"});return e+"</ul>"},_htmlEncode:function(c){return a("<div></div>").text(c).html()},_submit:function(){var c=this,d=c.root().val();c.trigger("submit");if(!c.data("submit")&&!(c._callbacks&&c._callbacks.submit)){window.location="http://www.baidu.com/s?wd="+encodeURIComponent(d)}return c},_select:function(e){var d=this,c=e.textContent;d.root().val(c);d.data("isStorage")&&d._localStorage(c);return d.trigger("select",e).hide()},_cacheData:function(c,e){var d=this;if(d.data("isCache")){return e!==b?d.data("cacheData")[c]=e:d.data("cacheData")[c]}},_localStorage:function(h){var f=this,d,j,g,c=f.data("shareName"),k=f.data("isSharing")?c?c+"-SUG-Sharing-History":"SUG-Sharing-History":f.data("id");try{if(h===null){window.localStorage[k]=""}else{if(h!==b){j=window.localStorage[k];g=j?j.split(encodeURIComponent(",")):[];if(!~a.inArray(h,g)){g.unshift(h);window.localStorage[k]=g.join(encodeURIComponent(","))}}}d=window.localStorage[k]}catch(i){}return d},_show:function(){var c=this;if(c.data("hideTimer")){clearTimeout(c.data("hideTimer"));c.data("hideTimer",null)}c.data("wrapper").css("display","block");c.data("posAdapt")&&c._posAdapt(1);return c.trigger("show")},hide:function(){var c=this;c.data("hideTimer",a.later(function(){c.data("wrapper").css("display","none");c.data("hideTimer",null)},200));return c._posAdapt(0).trigger("hide")},clearHistory:function(){var d=this,c=function(){d._localStorage(null);d.hide()};d.data("confirmClearHistory")?window.confirm("\u6e05\u9664\u5168\u90e8\u67e5\u8be2\u5386\u53f2\u8bb0\u5f55\uff1f")&&c():c()},history:function(c){return this._localStorage(c)},focusInput:function(){this.root().get(0).focus();return this},leaveInput:function(){this.root().get(0).blur();return this}})})(Zepto);
/*!Widget quickdelete.js*/
(function(a){a.ui.define("quickdelete",{_data:{size:20,offset:{x:0,y:0}},_create:function(){var d=this,h=d.data("input",a(d.data("container"))),g=+new Date(),f="ui-input-mask-"+g,e="ui-quickdelete-delete-"+g,c=h.parent(),b=a('<div id="'+e+'" class="ui-quickdelete-button"></div>').css({height:d.data("size"),width:d.data("size")});a.os.android&&a.os.android&&parseFloat(a.os.version).toFixed(1)==2.1&&b.css("-webkit-background-size","20px 20px");if(c.attr("class")!="ui-input-mask"){c=a('<div id="'+f+'" class="ui-input-mask"></div>').appendTo(h.parent()).append(h)}d.root(c.append(d.data("deleteElem",b)).css("height",h.height()));d._initButtonOffset()},_setup:function(){var b=this;b.data("container",b.root());this._create()},_init:function(){var c=this,d=c.data("input"),b=a.proxy(c._eventHandler,c);d.on("focus input blur",b);c.data("deleteElem").on("touchstart",b);c.on("destroy",function(){d.off("focus input blur",b);c.data("deleteElem").off("touchstart",b);b=a.fn.emptyFn});c.trigger("init")},_show:function(){this.data("deleteElem").css("visibility","visible");return this},_hide:function(){this.data("deleteElem").css("visibility","hidden");return this},_eventHandler:function(f){var c=this,b=f.type,d=f.target,g=c.data("input");switch(b){case"focus":case"input":a.trim(g.val())?c._show():c._hide();break;case"mousedown":case"touchstart":if(d==c.data("deleteElem").get(0)){f.preventDefault();f.formDelete=true;g.val("");c._hide().trigger("delete");g.blur().focus()}break;case"blur":c._hide();break}},_initButtonOffset:function(){var e=this,i=e.data("input"),d=e.data("size"),g=e.root().offset(),f=e.data("offset"),b=f.x||0,h=f.y||0,c=Math.round((g.height-2*h-d)/2);e.data("deleteElem").css({padding:c<0?0:c,top:h,right:b});i.css({position:"absolute",top:0,left:0,width:"auto",right:d+20});return e}})})(Zepto);
/*!Widget dialog.js*/
(function(b,c){var a={close:'<a class="ui-dialog-close" title="\u5173\u95ed"><span class="ui-icon ui-icon-delete"></span></a>',mask:'<div class="ui-mask"></div>',title:'<div class="ui-dialog-title"><h3><%=title%></h3></div>',wrap:'<div class="ui-dialog"><div class="ui-dialog-content"></div><% if(btns){ %><div class="ui-dialog-btns"><% for(var i=0, length=btns.length; i<length; i++){var item = btns[i]; %><a class="ui-btn ui-btn-<%=item.index%>" data-key="<%=item.key%>"><%=item.text%></a><% } %></div><% } %></div> '};b.ui.define("dialog",{_data:{autoOpen:true,buttons:null,closeBtn:true,mask:true,width:300,height:"auto",title:null,content:null,scrollMove:true,container:null,maskClick:null,position:null},getWrap:function(){return this._data._wrap},_setup:function(){var d=this._data;d.content=d.content||this._el.show();d.title=d.title||this._el.attr("title")},_init:function(){var g=this,h=g._data,f,e=0,d=b.proxy(g._eventHandler,g),j={};h._container=b(h.container||document.body);(h._cIsBody=h._container.is("body"))||h._container.addClass("ui-dialog-container");j.btns=f=[];h.buttons&&b.each(h.buttons,function(i){f.push({index:++e,text:i,key:i})});h._mask=h.mask?b(a.mask).appendTo(h._container):null;h._wrap=b(b.parseTpl(a.wrap,j)).appendTo(h._container);h._content=b(".ui-dialog-content",h._wrap);h._title=b(a.title);h._close=h.closeBtn&&b(a.close).highlight("ui-dialog-close-hover");g._el=g._el||h._content;g.title(h.title);g.content(h.content);f.length&&b(".ui-dialog-btns .ui-btn",h._wrap).highlight("ui-state-hover");h._wrap.css({width:h.width,height:h.height});b(window).on("ortchange",d);h._wrap.on("click",d);h._mask&&h._mask.on("click",d);h.autoOpen&&g.root().one("init",function(){g.open()})},_eventHandler:function(j){var h=this,d,g,i=h._data,f;switch(j.type){case"ortchange":this.refresh();break;case"touchmove":i.scrollMove&&j.preventDefault();break;case"click":if(i._mask&&(b.contains(i._mask[0],j.target)||i._mask[0]===j.target)){return h.trigger("maskClick")}g=i._wrap.get(0);if((d=b(j.target).closest(".ui-dialog-close",g))&&d.length){h.close()}else{if((d=b(j.target).closest(".ui-dialog-btns .ui-btn",g))&&d.length){f=i.buttons[d.attr("data-key")];f&&f.apply(h,arguments)}}}},_calculate:function(){var i=this,j=i._data,h,k,e=document.body,g={},d=j._cIsBody,f=Math.round;j.mask&&(g.mask=d?{width:"100%",height:Math.max(e.scrollHeight,e.clientHeight)-1}:{width:"100%",height:"100%"});h=j._wrap.offset();k=b(window);g.wrap={left:"50%",marginLeft:-f(h.width/2)+"px",top:d?f(k.height()/2)+window.pageYOffset:"50%",marginTop:-f(h.height/2)+"px"};return g},refresh:function(){var e=this,g=e._data,d,f;if(g._isOpen){f=function(){d=e._calculate();d.mask&&g._mask.css(d.mask);g._wrap.css(d.wrap)};if(b.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)){document.body.scrollLeft=0;b.later(f,200)}else{f()}}return e},open:function(d,f){var e=this._data;e._isOpen=true;e._wrap.css("display","block");e._mask&&e._mask.css("display","block");d!==c&&this.position?this.position(d,f):this.refresh();b(document).on("touchmove",b.proxy(this._eventHandler,this));return this.trigger("open")},close:function(){var d,e=this._data;d=b.Event("beforeClose");this.trigger(d);if(d.defaultPrevented){return this}e._isOpen=false;e._wrap.css("display","none");e._mask&&e._mask.css("display","none");b(document).off("touchmove",this._eventHandler);return this.trigger("close")},title:function(e){var d=this._data,f=e!==c;if(f){e=(d.title=e)?"<h3>"+e+"</h3>":e;d._title.html(e)[e?"prependTo":"remove"](d._wrap);d._close&&d._close.prependTo(d.title?d._title:d._wrap)}return f?this:d.title},content:function(e){var d=this._data,f=e!==c;f&&d._content.empty().append(d.content=e);return f?this:d.content},destroy:function(){var e=this._data,d=this._eventHandler;b(window).off("ortchange",d);b(document).off("touchmove",d);e._wrap.off("click",d).remove();e._mask&&e._mask.off("click",d).remove();e._close&&e._close.highlight();return this.$super("destroy")}})})(Zepto);
/*!Widget dialog.position.js*/
(function(a,b){a.ui.dialog.register(function(){return{pluginName:"position",_init:function(){var c=this._data;this._initOrg();c.position=c.position||{of:c.container||window,at:"center",my:"center"}},position:function(c,e){var d=this._data;if(!a.isPlainObject(c)){d.position.at="left"+(c>0?"+"+c:c)+" top"+(e>0?"+"+e:e)}else{a.extend(d.position,c)}return this.refresh()},_calculate:function(){var e=this,f=e._data,c=f.position,d=this._calculateOrg();f._wrap.position(a.extend(c,{using:function(g){d.wrap=g}}));return d}}})})(Zepto);
/*!Widget calendar.js*/
(function(e,d){var f=["01\u6708","02\u6708","03\u6708","04\u6708","05\u6708","06\u6708","07\u6708","08\u6708","09\u6708","10\u6708","11\u6708","12\u6708"],a=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],j=/^(\+|\-)?(\d+)(M|Y)$/i,c=function(k,l){return 32-new Date(k,l,32).getDate()},g=function(k,l){return new Date(k,l,1).getDay()},b=function(m,k){var l=""+m;while(l.length<k){l="0"+l}return l},i=function(k){return k.is("select, input")?k.val():k.attr("data-value")},h;e.ui.define("calendar",{_data:{date:null,firstDay:1,maxDate:null,minDate:null,swipeable:false,monthChangeable:false,yearChangeable:false},_create:function(){var k=this.root();k=k||this.root(e("<div></div>"));k.appendTo(this.data("container")||(k.parent().length?"":document.body))},_init:function(){var m=this._data,l=this._container||this.root(),k=e.proxy(this._eventHandler,this);this.minDate(m.minDate).maxDate(m.maxDate).date(m.date||new Date()).refresh();l.addClass("ui-calendar").on("click",k).highlight();m.swipeable&&l.on("swipeLeft swipeRight",k)},_eventHandler:function(r){var p=this._data,l=(this._container||this.root()).get(0),o,q,k,n,m;switch(r.type){case"swipeLeft":case"swipeRight":return this.switchMonthTo((r.type=="swipeRight"?"-":"+")+"1M");case"change":m=e(".ui-calendar-header .ui-calendar-year, .ui-calendar-header .ui-calendar-month",this._el);return this.switchMonthTo(i(m.eq(1)),i(m.eq(0)));default:q=r.target;if((o=e(q).closest(".ui-calendar-calendar tbody a",l))&&o.length){r.preventDefault();k=o.parent();this._option("selectedDate",n=new Date(k.attr("data-year"),k.attr("data-month"),o.text()));this.trigger("select",[n,e.calendar.formatDate(n),this]);this.refresh()}else{if((o=e(q).closest(".ui-calendar-prev, .ui-calendar-next",l))&&o.length){r.preventDefault();this.switchMonthTo((o.is(".ui-calendar-prev")?"-":"+")+"1M")}}}},_option:function(l,p){var n=this._data,k,m,o;if(p!==d){switch(l){case"minDate":case"maxDate":n[l]=p?e.calendar.parseDate(p):null;break;case"selectedDate":m=n.minDate;o=n.maxDate;p=e.calendar.parseDate(p);p=m&&m>p?m:o&&o<p?o:p;n._selectedYear=n._drawYear=p.getFullYear();n._selectedMonth=n._drawMonth=p.getMonth();n._selectedDay=p.getDate();break;case"date":this._option("selectedDate",p);n[l]=this._option("selectedDate");break;default:n[l]=p}n._invalid=true;return this}return l=="selectedDate"?new Date(n._selectedYear,n._selectedMonth,n._selectedDay):n[l]},switchToToday:function(){var k=new Date();return this.switchMonthTo(k.getMonth(),k.getFullYear())},switchMonthTo:function(o,l){var n=this._data,m=this.minDate(),r=this.maxDate(),q,p,k;if(e.isString(o)&&j.test(o)){q=RegExp.$1=="-"?-parseInt(RegExp.$2,10):parseInt(RegExp.$2,10);p=RegExp.$3.toLowerCase();o=n._drawMonth+(p=="m"?q:0);l=n._drawYear+(p=="y"?q:0)}else{o=parseInt(o,10);l=parseInt(l,10)}k=new Date(l,o,1);k=m&&m>k?m:r&&r<k?r:k;o=k.getMonth();l=k.getFullYear();if(o!=n._drawMonth||l!=n._drawYear){this.trigger("monthchange",[n._drawMonth=o,n._drawYear=l,this]);n._invalid=true;this.refresh()}return this},refresh:function(){var m=this._data,l=this._container||this.root(),k=e.proxy(this._eventHandler,this);if(!m._invalid){return}e(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",l).highlight();e(".ui-calendar-header select",l).off("change",k);l.empty().append(this._generateHTML());e(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",l).highlight("ui-state-hover");e(".ui-calendar-header select",l).on("change",k);m._invalid=false;return this},destroy:function(){var l=this._container||this.root(),k=this._eventHandler;e(".ui-calendar-calendar td:not(.ui-state-disabled)",l).highlight();e(".ui-calendar-header select",l).off("change",k);return this.$super("destroy")},_generateHTML:function(){var t=this._data,p=t._drawYear,u=t._drawMonth,o=new Date(),y=new Date(o.getFullYear(),o.getMonth(),o.getDate()),r=this.minDate(),m=this.maxDate(),w=this.selectedDate(),v="",s,q,l,z,x,k,A,n;l=(isNaN(l=parseInt(t.firstDay,10))?0:l);v+=this._renderHead(t,p,u,r,m)+'<table  class="ui-calendar-calendar"><thead><tr>';for(s=0;s<7;s++){z=(s+l)%7;v+="<th"+((s+l+6)%7>=5?' class="ui-calendar-week-end"':"")+"><span>"+a[z]+"</span></th>"}v+='</thead></tr><tbody><tr class="ui-calendar-gap"><td colspan="7">&#xa0;</td></tr>';k=c(p,u);x=(g(p,u)-l+7)%7;A=Math.ceil((x+k)/7);n=new Date(p,u,1-x);for(s=0;s<A;s++){v+="<tr>";for(q=0;q<7;q++){v+=this._renderDay(q,n,l,u,w,y,r,m);n.setDate(n.getDate()+1)}v+="</tr>"}v+="</tbody></table>";return v},_renderHead:function(p,m,q,n,k){var r='<div class="ui-calendar-header">',l=new Date(m,q,-1),s=new Date(m,q+1,1),o,t;r+='<a class="ui-calendar-prev'+(n&&n>l?" ui-state-disable":"")+'" href="#">&lt;&lt;</a><div class="ui-calendar-title">';if(p.yearChangeable){r+='<select class="ui-calendar-year">';for(o=Math.max(1970,m-10),t=o+20;o<t;o++){r+='<option value="'+o+'" '+(o==m?'selected="selected"':"")+">"+o+"\u5e74</option>"}r+="</select>"}else{r+='<span class="ui-calendar-year" data-value="'+m+'">'+m+"\u5e74</span>"}if(p.monthChangeable){r+='<select class="ui-calendar-month">';for(o=0;o<12;o++){r+='<option value="'+o+'" '+(o==q?'selected="selected"':"")+">"+f[o]+"</option>"}r+="</select>"}else{r+='<span class="ui-calendar-month" data-value="'+q+'">'+f[q]+"</span>"}r+='</div><a class="ui-calendar-next'+(k&&k<s?" ui-state-disable":"")+'" href="#">&gt;&gt;</a></div>';return r},_renderDay:function(q,n,l,r,s,t,p,k){var m=(n.getMonth()!==r),o;o=m||(p&&n<p)||(k&&n>k);return"<td class='"+((q+l+6)%7>=5?"ui-calendar-week-end":"")+(o?" ui-calendar-unSelectable ui-state-disabled":"")+(m||o?"":(n.getTime()===s.getTime()?" ui-calendar-current-day":"")+(n.getTime()===t.getTime()?" ui-calendar-today":""))+"'"+(o?"":" data-month='"+n.getMonth()+"' data-year='"+n.getFullYear()+"'")+">"+(m?"&#xa0;":(o?"<span class='ui-state-default'>"+n.getDate()+"</span>":"<a class='ui-state-default"+(n.getTime()===t.getTime()?" ui-state-highlight":"")+(n.getTime()===s.getTime()?" ui-state-active":"")+"' href='#'>"+n.getDate()+"</a>"))+"</td>"}});h=e.ui.calendar.prototype;e.each(["maxDate","minDate","date","selectedDate"],function(l,k){h[k]=function(m){return this._option(k,m)}});e.calendar={parseDate:function(l){var k=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return e.isDate(l)?l:k.test(l)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null},formatDate:function(k){return k.getFullYear()+"-"+b(k.getMonth()+1,2)+"-"+b(k.getDate(),2)}}})(Zepto);
/*!Widget calendar.picker.js*/
(function(b){b.ui.calendar.register(function(){return{pluginName:"picker",_create:function(){var c=this.root();if(!c){throw new Error("\u8bf7\u6307\u5b9a\u65e5\u671f\u9009\u62e9\u5668\u7684\u8d4b\u503c\u5bf9\u8c61")}},_init:function(){var c=this.root(),d=this._data;this._container=b("<div></div>");d.date||(d.date=c[c.is("select, input")?"val":"text"]());this._initOrg();b(window).on("ortchange",b.proxy(this._eventHandler,this));this.on("commit",function(g,f){var h=b.calendar.formatDate(f);c[c.is("select, input")?"val":"text"](h)})},_eventHandler:function(c){if(c.type==="ortchange"){this._frame&&this._frame.refresh()}else{this._eventHandlerOrg(c)}},show:function(){var d=this,c;if(this._visible){return this}c=this._container;this._visible=true;this.refresh();this._frame=a(c,function(f){var e;if(f){e=d._option("selectedDate");d.trigger("commit",[e,b.calendar.formatDate(e),d]);d._option("date",e)}else{d._option("selectedDate",d._option("date"))}d.hide();return false});return this.trigger("show",this)},hide:function(){var d=this,c;if(!this._visible){return this}c=b.Event("beforehide");this.trigger(c,this);if(c.isDefaultPrevented()){return this}this._visible=false;this._frame.close(function(){d.trigger&&d.trigger("hide")});this._frame=null;return this},destroy:function(){b(window).off("ortchange",this._eventHandler);this._frame&&this._frame.close();return this.destroyOrg()}}});function a(c,g){var j=b('<span class="ui-holder"></span>'),k=b('<div class="ui-slideup-wrap">   <div class="ui-slideup">       <div class="header">           <span class="ok-btn">\u786e\u8ba4</span>           <span class="no-btn">\u53d6\u6d88</span>       </div>       <div class="frame"></div>   </div></div>'),e=b(".ui-slideup",k),f=b(".frame",e),h={refresh:function(l){k.css({top:window.pageYOffset+"px",height:window.innerHeight+"px"});e.animate({translateY:"-"+e.height()+"px",translateZ:"0"},400,"ease-out",function(){l&&l.call(h)});return h},close:function(m){var l=a.count=a.count-1;k.off("click.slideup"+d);e.animate({translateY:"0",translateZ:"0"},200,"ease-out",function(){m&&m();j.replaceWith(c);k.remove();l===0&&b(document).off("touchmove.slideup")}).find(".ok-btn, .no-btn").highlight();return h}},d=a.id=(a.id>>>0)+1,i;f.append(c.replaceWith(j));i=a.count=(a.count>>>0)+1;i===1&&b(document).on("touchmove.slideup",function(l){l.preventDefault()});k.on("click.slideup"+d,".ok-btn, .no-btn",function(){g.call(h,b(this).is(".ok-btn"))!==false&&h.close()}).appendTo(document.body).find(".ok-btn, .no-btn").highlight("ui-state-hover");h.refresh();return h}})(Zepto);
/*!Widget panel.js*/
(function(b,c){var d=b.fx.cssPrefix,a=b.fx.transitionEnd;b.ui.define("panel",{_data:{contentWrap:"",scrollMode:"follow",display:"push",position:"right",dismissible:true,swipeClose:true,beforeopen:null,open:null,beforeclose:null,close:null},_create:function(){throw new Error("panel\u7ec4\u4ef6\u4e0d\u652f\u6301create\u6a21\u5f0f\uff0c\u8bf7\u4f7f\u7528setup\u6a21\u5f0f")},_setup:function(){var f=this,g=f._data,e=f.root().addClass("ui-panel ui-panel-"+g.position);f.panelWidth=e.width()||0;f.$contentWrap=b(g.contentWrap||e.next());g.dismissible&&(f.$panelMask=b('<div class="ui-panel-dismiss"></div>').width(document.body.clientWidth-e.width()).appendTo("body")||null)},_init:function(){var e=this,f=e._data;e.displayFn=e._setDisplay();e.$contentWrap.addClass("ui-panel-animate");e.root().on(a,b.proxy(e._eventHandler,e)).hide();f.dismissible&&e.$panelMask.hide().on("click",b.proxy(e._eventHandler,e));f.scrollMode!=="follow"&&b(document).on("scrollStop",b.proxy(e._eventHandler,e));b(window).on("ortchange",b.proxy(e._eventHandler,e))},_setDisplay:function(){var i=this,k=i.root(),f=i.$contentWrap,e=d+"transform",l=i._transDisplayToPos(),j={},h,g;b.each(["push","overlay","reveal"],function(m,n){j[n]=function(p,q,o){h=l[n].panel,g=l[n].cont;k.css(e,"translate3d("+i._transDirectionToPos(q,h[p])+"px,0,0)");if(!o){f.css(e,"translate3d("+i._transDirectionToPos(q,g[p])+"px,0,0)");i.maskTimer=b.later(function(){i.$panelMask&&i.$panelMask.css(q,k.width()).toggle(p)},400)}return i}});return j},_initPanelPos:function(e,f){this.displayFn[e](0,f,true);this.root().get(0).clientLeft;return this},_transDirectionToPos:function(f,e){return f==="left"?e:-e},_transDisplayToPos:function(){var e=this,f=e.panelWidth;return{push:{panel:[-f,0],cont:[0,f]},overlay:{panel:[-f,0],cont:[0,0]},reveal:{panel:[0,0],cont:[0,f]}}},_setShow:function(f,g,n){var m=this,k=m._data,l=f?"open":"close",o=b.Event("before"+l),j=f!==m.state(),e=f?"on":"off",h=f?b.proxy(m._eventHandler,m):m._eventHandler,i=g||k.display,p=n||k.position;m.trigger(o,[g,n]);if(o.defaultPrevented){return m}if(j){m._dealState(f,i,p);m.displayFn[i](m.isOpen=Number(f),p);k.swipeClose&&m.root()[e](b.camelCase("swipe-"+p),h);k.display=i,k.position=p}return m},_dealState:function(e,g,k){var i=this,h=i._data,l=i.root(),f=i.$contentWrap,m="ui-panel-"+g+" ui-panel-"+k,j="ui-panel-"+h.display+" ui-panel-"+h.position+" ui-panel-animate";if(e){l.removeClass(j).addClass(m).show();h.scrollMode==="fix"&&l.css("top",b(window).scrollTop());i._initPanelPos(g,k);if(g==="reveal"){f.addClass("ui-panel-contentWrap").on(a,b.proxy(i._eventHandler,i))}else{f.removeClass("ui-panel-contentWrap").off(a,b.proxy(i._eventHandler,i));l.addClass("ui-panel-animate")}i.$panelMask&&i.$panelMask.css({left:"auto",right:"auto",height:document.body.clientHeight})}return i},_eventHandler:function(i){var g=this,h=g._data,j=h.scrollMode,f=g.state()?"open":"close";switch(i.type){case"click":case"swipeLeft":case"swipeRight":g.close();break;case"scrollStop":j==="fix"?g.root().css("top",b(window).scrollTop()):g.close();break;case a:g.trigger(f,[h.display,h.position]);break;case"ortchange":g.$panelMask&&g.$panelMask.css("height",document.body.clientHeight);j==="fix"&&g.root().css("top",b(window).scrollTop());break}},open:function(f,e){return this._setShow(true,f,e)},close:function(){return this._setShow(false)},toggle:function(f,e){return this[this.isOpen?"close":"open"](f,e)},state:function(){return !!this.isOpen},destroy:function(){this.$panelMask&&this.$panelMask.off().remove();this.maskTimer&&clearTimeout(this.maskTimer);this.$contentWrap.removeClass("ui-panel-animate");b(document).off("scrollStop",this._eventHandler);b(window).off("ortchange",this._eventHandler);return this.$super("destroy")}})})(Zepto);
/*!Widget dropmenu.js*/
(function(d,f){var a={arrow:'<span class="ui-dropmenu-arrow"></span>',items:'<ul class="ui-dropmenu-items"><% for(var i=0, length = items.length; i<length; i++){ var item = items[i]; %><li class="<%=item.icon&&item.text?\'ui-icontext\':item.icon?\'ui-icononly\':\'ui-textonly\'%>"><a<% if(item.href){ %> href="<%=item.href%>"<% } %>><% if(item.icon){ %><span class="ui-icon ui-icon-<%=item.icon%>"></span><% } %><%=item.text%></a></li><% } %></ul>'},h=/\bui\-icon\-(\w+)\b/ig,e=/^(?:body|html)$/i,g=100,c={up:{x:0,y:1},down:{x:0,y:-1}},b={left:{left:"25%",right:"auto"},center:{left:"50%",right:"auto"},right:{left:"75%",right:"auto"}};d.ui.define("dropmenu",{_data:{btn:null,align:"center",width:null,height:null,offset:null,pos:"down",direction:"vertical",arrow:true,arrowPos:null,autoClose:true,items:null,itemClick:null,cacheParentOffset:true},_prepareDom:function(n,m){var l=this,k,j=l._el,i;switch(n){case"fullsetup":case"setup":m._arrow=l._findElement(".ui-dropmenu-arrow");m._arrow||m.arrow&&(m._arrow=d(a.arrow).prependTo(j));m._items=l._el.find("ul").first();if(m._items){i=[];m._items.addClass("ui-dropmenu-items").children().each(function(){var r=d(this),p=d("a",this).first(),o=d(".ui-icon",this),q;i.push(q={text:p.text(),icon:o.length&&o.attr("class").match(h)&&RegExp.$1});r.addClass(q.icon&&q.text?"ui-icontext":q.icon?"ui-icononly":"ui-textonly")});m.items=i}else{m._items=d(d.parseTpl(a.items,{items:m.items||[]})).appendTo(j)}break;default:k=m.arrow?a.arrow:"";k+=d.parseTpl(a.items,{items:m.items||[]});j.append(k);m._arrow=l._findElement(".ui-dropmenu-arrow");m._items=l._findElement(".ui-dropmenu-items");m.container=m.container||"body"}m.container&&j.appendTo(m.container)},_findElement:function(i){var j=this._el.find(i);return j.length?j:null},_create:function(){var i=this,j=i._data;i._el=i._el||d("<div></div>");i._prepareDom("create",j)},_setup:function(k){var i=this,j=i._data;i._prepareDom(k?"fullsetup":"setup",j)},_init:function(){var k=this,l=k._data,j=k.root(),i=d.proxy(k._eventHandler,k);j.addClass(k._prepareClassName()).css({width:l.width||"",height:l.height||""});d(".ui-dropmenu-items li a",j).highlight("ui-state-hover");j.on("click",i).highlight();d(window).on("ortchange",i);l.btn&&k.bindButton(d.ui.isWidget(l.btn)?l.btn.root():l.btn)},_prepareClassName:function(){var j=this._data,i="ui-dropmenu";j.direction=="horizontal"&&(i+=" ui-horizontal");return i},bindButton:function(i){var j=this,k=j._data;k._btn&&k._btn.off("click.dropmenu");k._btn=d(i).on("click",d.proxy(j._eventHandler,j));return j},_getParentOffset:function(){var k=this._el,j=k.offsetParent(),i=e.test(j[0].nodeName)?{top:0,left:0}:j.offset();i.top+=parseFloat(d(j[0]).css("border-top-width"))||0;i.left+=parseFloat(d(j[0]).css("border-left-width"))||0;return i},_isInRange:function(l,j,k,i){return !(l<k||l+j>k+i)},__caculate:function(j,i,k,l){switch(j){case"up":return i.top-l;case"down":return i.top+i.height;case"left":return i.left;case"center":return i.left+i.width/2-k/2;default:return i.left+i.width-k}},_caculate:function(r){var u,k,m=this._data,l,t,q,v,o,n,s,j,p,i=m._parentOffset;!m._btn?(m._btn=d(r)):m._btn.add(r);if(!m._btn.length){throw new Error("\u8c03\u7528dropmenu->show\u9519\u8bef\uff0c\u9700\u8981\u6307\u5b9a\u4e00\u4e2aElement\u4e0e\u4e4b\u5173\u8054!")}o=m._btn.offset();n=(v=this._el).width();s=v.height();t=m.pos;q=m.align;if(t=="auto"){j=window.pageYOffset;p=window.innerHeight;u=this.__caculate(t="down",o,n,s);if(!this._isInRange(u,s,j,p)){u=this.__caculate(t="up",o,n,s);this._isInRange(u,s,j,p)||(u=this.__caculate(t="down",o,n,s))}}else{u=this.__caculate(m.pos,o,n,s)}if(q=="auto"){j=0;p=window.innerWidth;k=this.__caculate(q="center",o,n,s);if(!this._isInRange(k,n,j,p)){k=this.__caculate(q="left",o,n,s);this._isInRange(k,n,j,p)||(k=this.__caculate(q="right",o,n,s))}}else{k=this.__caculate(m.align,o,n,s)}v[t=="up"?"addClass":"removeClass"]("ui-dropmenu-pos-up").removeClass("ui-alignleft ui-aligncenter ui-alignright").addClass(q=="left"?"ui-alignleft":q=="right"?"ui-alignright":"ui-aligncenter");l=m.offset||c[t=="up"?"up":"down"];m._arrow&&m._arrow.css(m.arrowPos||b[q]);return{top:u+l.y-i.top,left:k+l.x-i.left}},show:function(k){var i=this,j=this._data;j._parentOffset=j.cacheParentOffset?j._parentOffset||this._getParentOffset():this._getParentOffset();j.autoClose&&d(document).on("click."+this.id(),function(l){i._isFromSelf(l.target)||i.hide()});this._el.css(this._caculate(j._actBtn=k||j._actBtn)).css("zIndex",g++);j._isShow=true;return this},_eventHandler:function(n){var o=this,m,l=this._data,j,k,q,i,p;switch(n.type){case"ortchange":l._parentOffset=this._getParentOffset();l._isShow&&o._el.css(o._caculate(l._actBtn));break;default:j=o._el.get(0);if((m=d(n.target).closest(".ui-dropmenu-items li",j))&&m.length){q=d.Event("itemClick");k=l.items[m.index()];i=k&&k.click&&k.click.apply(o,[q,k,m[0]])===false;(i=i||q.defaultPrevented)||o.trigger(q,[k,m[0]]);(i||q.defaultPrevented)&&n.preventDefault()}else{o.toggle()}}},_isFromSelf:function(k){var i=false,j=this._data;d.each(this._el.add(j._btn),function(){if(this==k||d.contains(this,k)){i=true;return false}});return i},hide:function(){var i=this._data;i._isShow&&this.root().css("top","-99999px");i.autoClose&&d(document).off("click."+this.id());i._isShow=false;return this},toggle:function(){return this[this._data._isShow?"hide":"show"].apply(this,arguments)},destroy:function(){var j=this._data,i=this._eventHandler;j._btn&&j._btn.off("click",i);d(".ui-dropmenu-items li a",this._el).highlight();j.autoClose&&d(document).off("click."+this.id());d(window).off("ortchange",i);return this.$super("destroy")}})})(Zepto);
/*!Widget dropmenu.iscroll.js*/
(function(a,b){a.ui.dropmenu.register(function(){return{pluginName:"iscroll",show:function(){var c=this._data;c.iScroll&&window.iScroll&&this._initiScroll();this.show=this.showOrg;return this.show.apply(this,arguments)},_initiScroll:function(){var c=this._data;c._items.wrap('<div class="iscroll-wrap"></div>');c._iWrap=a(".iscroll-wrap",this._el);c._iScroll=new iScroll(c._iWrap.get(0),a.extend({hScroll:c.direction=="horizontal",vScroll:c.direction!="horizontal"},a.isObject(c.iScroll)?c.iScroll:{}));this._el.addClass("has-iScroll")}}})})(Zepto);
/*!Widget tabs.js*/
(function(e,f){var c=1,b=function(){return c++},a={nav:'<ul class="ui-tabs-nav"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><li<% if(i==active){ %> class="ui-state-active"<% } %>><a href="javascript:;"><%=item.title%></a></li><% } %></ul>',content:'<div class="ui-viewport ui-tabs-content"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><div<% if(item.id){ %> id="<%=item.id%>"<% } %> class="ui-panel ui-tabs-panel <%=transition%><% if(i==active){ %> ui-state-active<% } %>"><%=item.content%></div><% } %></div>'},d=/^#(.+)$/;e.ui.define("tabs",{_data:{active:0,items:null,transition:"slide",activate:null,beforeActivate:null,animateComplete:null},_prepareDom:function(k,j){var n=this,l,o=n._el,m,g,i,h;switch(k){case"fullsetup":case"setup":j._nav=n._findElement("ul").first();if(j._nav){j._content=n._findElement("div.ui-tabs-content");j._content=((j._content&&j._content.first())||e("<div></div>").appendTo(o)).addClass("ui-viewport ui-tabs-content");m=[];j._nav.addClass("ui-tabs-nav").children().each(function(){var r=n._findElement("a",this),p=r?r.attr("href"):e(this).attr("data-url"),s,q;s=d.test(p)?RegExp.$1:"tabs_"+b();(q=n._findElement("#"+s)||e('<div id="'+s+'"></div>')).addClass("ui-panel ui-tabs-panel"+(j.transition?" "+j.transition:"")).appendTo(j._content);m.push({id:s,href:p,title:r?r.attr("href","javascript:;").text():e(this).text(),content:q})});j.items=m;j.active=Math.max(0,Math.min(m.length-1,j.active||e(".ui-state-active",j._nav).index()||0));n._getPanel().add(j._nav.children().eq(j.active)).addClass("ui-state-active");break}default:m=j.items=j.items||[];g=[];i=[];j.active=Math.max(0,Math.min(m.length-1,j.active));e.each(m,function(p,q){h="tabs_"+b();g.push({href:q.href||"#"+h,title:q.title});i.push({content:q.content||"",id:h});m[p].id=h});j._nav=e(e.parseTpl(a.nav,{items:g,active:j.active})).prependTo(o);j._content=e(e.parseTpl(a.content,{items:i,active:j.active,transition:j.transition})).appendTo(o);j.container=j.container||(o.parent().length?null:"body")}j.container&&o.appendTo(j.container);n._fitToContent(n._getPanel())},_getPanel:function(g){var h=this._data;return e("#"+h.items[g===f?h.active:g].id)},_findElement:function(g,i){var h=e(i||this._el).find(g);return h.length?h:null},_create:function(){var g=this,h=g._data;g._el=g._el||e("<div></div>");g._prepareDom("create",h)},_setup:function(i){var g=this,h=g._data;g._prepareDom(i?"fullsetup":"setup",h)},_init:function(){var i=this,j=i._data,h=i.root(),g=e.proxy(i._eventHandler,i);h.addClass("ui-tabs");j._nav.on("tap",g).children().highlight("ui-state-hover");e(window).on("ortchange",g)},_eventHandler:function(i){var g,h=this._data;switch(i.type){case"ortchange":this.refresh();break;default:if((g=e(i.target).closest("li",h._nav.get(0)))&&g.length){i.preventDefault();this.switchTo(g.index())}}},_fitToContent:function(i){var h=this._data,g=h._content;h._plus===f&&(h._plus=parseFloat(g.css("border-top-width"))+parseFloat(g.css("border-bottom-width")));g.height(i.height()+h._plus);return this},switchTo:function(h){var k=this,g=k._data,j=g.items,n,l,m,i,o;if(!g._buzy&&g.active!=(h=Math.max(0,Math.min(j.length-1,h)))){l=e.extend({},j[h]);l.div=k._getPanel(h);l.index=h;m=e.extend({},j[g.active]);m.div=k._getPanel();m.index=g.active;n=e.Event("beforeActivate");k.trigger(n,[l,m]);if(n.defaultPrevented){return k}g._content.children().removeClass("ui-state-active");l.div.addClass("ui-state-active");g._nav.children().removeClass("ui-state-active").eq(l.index).addClass("ui-state-active");if(g.transition){g._buzy=true;o=e.fx.animationEnd+".tabs";i=h>g.active?"":" reverse";g._content.addClass("ui-viewport-transitioning");m.div.addClass("out"+i);l.div.addClass("in"+i).on(o,function(p){if(p.target!=p.currentTarget){return}l.div.off(o,arguments.callee);g._buzy=false;m.div.removeClass("out reverse");l.div.removeClass("in reverse");g._content.removeClass("ui-viewport-transitioning");k.trigger("animateComplete",[l,m]);k._fitToContent(l.div)})}g.active=h;k.trigger("activate",[l,m]);g.transition||k._fitToContent(l.div)}return k},refresh:function(){return this._fitToContent(this._getPanel())},destroy:function(){var h=this._data,g=this._eventHandler;h._nav.off("tap",g).children().highlight();h.swipe&&h._content.off("swipeLeft swipeRight",g);return this.$super("destroy")}})})(Zepto);
/*!Widget tabs.ajax.js*/
(function(d,e){var c=/^#.+$/,b={},a={loading:'<div class="ui-loading">Loading</div>',error:'<p class="ui-load-error">\u5185\u5bb9\u52a0\u8f7d\u5931\u8d25!</p>'};d.ui.tabs.register(function(){return{_init:function(){var j=this._data,f=j.items,g,h;this._initOrg();for(g=0,h=f.length;g<h;g++){f[g].href&&!c.test(f[g].href)&&(f[g].isAjax=true)}this.on("activate",this._onActivate);f[j.active].isAjax&&this.load(j.active)},destroy:function(){this.off("activate",this._onActivate);this.xhr&&this.xhr.abort();return this.destroyOrg()},_fitToContent:function(g){var f=this._data;if(!f._fitLock){return this._fitToContentOrg(g)}},_onActivate:function(f,g){g.isAjax&&this.load(g.index)},load:function(h,l){var j=this,k=j._data,g=k.items,i,m,f;if(h<0||h>g.length-1||!(i=g[h])||!i.isAjax||((m=j._getPanel(h)).text()&&!l&&b[h])){return this}(f=j.xhr)&&d.later(function(){f.abort()},400);k._loadingTimer=d.later(function(){m.html(a.loading)},50);k._fitLock=true;j.xhr=d.ajax(d.extend(k.ajax||{},{url:i.href,context:j._el.get(0),beforeSend:function(p,n){var o=d.Event("beforeLoad");j.trigger(o,[p,n]);if(o.defaultPrevented){return false}},success:function(n,p){var o=d.Event("beforeRender");clearTimeout(k._loadingTimer);j.trigger(o,[n,m,h,p]);if(!o.defaultPrevented){m.html(n)}k._fitLock=false;b[h]=true;j.trigger("load",m);delete j.xhr;j._fitToContent(m)},error:function(){var n=d.Event("loadError");clearTimeout(k._loadingTimer);b[h]=false;j.trigger(n,m);if(!n.defaultPrevented){m.html(a.error)}delete j.xhr}}))}}})})(Zepto);
/*!Widget tabs.swipe.js*/
(function(c,b){var i=1000,e=30,h=70,g=30,f=[],d=false,j=function(l){for(var k=f.length;k--;){if(c.contains(f[k],l)){return true}}return false};function a(){c(document).on("touchstart.tabs",function(m){var k=m.touches?m.touches[0]:m,n,l;n={x:k.clientX,y:k.clientY,time:Date.now(),el:c(m.target)};c(document).on("touchmove.tabs",function(q){var o=q.touches?q.touches[0]:q,p;if(!n){return}l={x:o.clientX,y:o.clientY,time:Date.now()};if((p=Math.abs(n.x-l.x))>g||p>Math.abs(n.y-l.y)){j(q.target)&&q.preventDefault()}else{c(document).off("touchmove.tabs touchend.tabs")}}).one("touchend.tabs",function(){c(document).off("touchmove.tabs");if(n&&l){if(l.time-n.time<i&&Math.abs(n.x-l.x)>e&&Math.abs(n.y-l.y)<h){n.el.trigger(n.x>l.x?"tabsSwipeLeft":"tabsSwipeRight")}}n=l=b})})}c.ui.tabs.register(function(){return{name:"swipe",_init:function(){var k=this._data;this._initOrg();f.push(k._content.get(0));d=d||(a(),true);this._el.on("tabsSwipeLeft tabsSwipeRight",c.proxy(this._eventHandler,this))},_eventHandler:function(n){var m=this._data,k,l;switch(n.type){case"tabsSwipeLeft":case"tabsSwipeRight":k=m.items;if(n.type=="tabsSwipeLeft"&&m.active<k.length-1){l=m.active+1}else{if(n.type=="tabsSwipeRight"&&m.active>0){l=m.active-1}}l!==b&&(n.stopPropagation(),this.switchTo(l));break;default:return this._eventHandlerOrg(n)}},destroy:function(){var l=this._data,k;~(k=c.inArray(l._content.get(0),f))&&f.splice(k,1);this._el.off("tabsSwipeLeft tabsSwipeRight",this._eventHandler);f.length||(c(document).off("touchstart.tabs"),d=false);return this.destroyOrg()}}})})(Zepto);
/*!Widget navigator.js*/
(function(b,c){var a='<% for (var i=0, len=left.length; i<len; i++) { %><a href="<%=left[i].url%>" class="ui-navigator-fix ui-navigator-fixleft"><%=left[i].text%></a><% } %><ul class="ui-navigator-list"><% for (var i=0, len=mid.length; i<len; i++) { %><li><a href="<%=mid[i].url%>"><%=mid[i].text%></a></li><% } %></ul><% for (var i=0, len=right.length; i<len; i++) { %><a href="<%=right[i].url%>" class="ui-navigator-fix ui-navigator-fixright"><%=right[i].text%></a><% } %>';b.ui.define("navigator",{_data:{container:"",content:[],defTab:0,beforetabselect:null,tabselect:null},_create:function(){var h=this,i=h._data,g=h.root(),d=b(i.container||document.body).get(0),e={left:[],mid:[],right:[]},f;b.each(i.content,function(){e[this.pos?this.pos:"mid"].push(this)});f=b.parseTpl(a,e);if(g){g.append(f);(!g.parent().length||d!==document.body)&&g.appendTo(d)}else{h.root(b("<div></div>").append(f)).appendTo(d)}},_setup:function(e){var g=this,h=g._data,f=h.defTab,d=g.root();if(!e){d.children("a").addClass("ui-navigator-fix");d.children("ul").addClass("ui-navigator-list")}d.find("a").each(function(j){f===0?b(this).hasClass("cur")&&(h.defTab=j):b(this).removeClass("cur")})},_init:function(){var f=this,g=f._data,d=f.root(),e=g.content,h=d.find("a");h.each(function(j){this.index=j;e.length&&e[j].attr&&b(this).attr(e[j].attr)});g._$tabList=h;g._lastIndex=-1;d.addClass("ui-navigator").on("click",b.proxy(f._switchTabHandler,f));f.switchTo(g.defTab,true)},_switchTabHandler:function(g){var d=this,f=g.target;b(f).closest("a").get(0)&&d.switchTo(f.index,false,g);return d},switchTo:function(g,f,k){var h=this,i=h._data,l=i._lastIndex,j=i._$tabList,d=b.Event("beforetabselect");h.trigger(d,[j[g]]);if(d.defaultPrevented){k&&k.preventDefault();return h}if(l==g){k&&k.preventDefault();return h}l>=0&&j.eq(l).removeClass("cur");j.eq(g).addClass("cur");i._lastIndex=g;return h.trigger("tabselect",[j.get(g),g])},getCurTab:function(){var d=this,e=d._data,f=e._lastIndex;return{index:f,info:e._$tabList[f]}}})})(Zepto);
/*!Widget navigator.iscroll.js*/
(function(a,b){a.ui.navigator.register(function(){return{pluginName:"iscroll",_init:function(){return this._adjustHtml()._reBindEvent()._initOrg()},_reBindEvent:function(){var c=this,d=c._data;d.isScrollToNext=d.isScrollToNext===b?true:d.isScrollToNext;d.isShowShadow=d.isShowShadow===b?true:d.isShowShadow;c._loadIscroll();a(window).on("ortchange",a.proxy(c._ortChangeHandler,c));c.on("destroy",function(){a(window).off("ortchange",c._ortChangeHandler);d.iScroll.destroy()});return c},_adjustHtml:function(){var f=this,g=f._data,e=f.root().addClass("ui-navigator"),i=e.find("ul"),h=e.find(".ui-navigator-wrapper"),c=i.find("li"),d=[0];!h.length&&i.wrap('<div class="ui-navigator-wrapper"></div>');i.find("li").each(function(j){d[j]=j?(d[j-1]+this.offsetWidth):(d[j]+this.offsetLeft-i[0].offsetLeft+this.offsetWidth)});a.extend(g,{_$navWrapper:e.find(".ui-navigator-wrapper"),_$navScroller:i.width(d[c.length-1]),_$navList:c,_scrollerNum:c.length,_scrollerSumWidth:d,_$fixElemLeft:e.find(".ui-navigator-fixleft"),_$fixElemRight:e.find(".ui-navigator-fixright")});return f},_loadIscroll:function(){var c=this,d=c._data;d.iScroll=iScroll(d._$navWrapper.get(0),d.iScrollOpts=a.extend({hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false},d.iScrollOpts,{onScrollStart:function(f){c.trigger("scrollstart",f)},onScrollMove:function(f){c.trigger("scrollmove",f)},onScrollEnd:function(f){d.isShowShadow&&c._setShadow();c.trigger("scrollend",f)}}));return c},_setShadow:function(){var e=this,f=e._data,g=f._$navWrapper,d={left:"ui-navigator-shadowl",right:"ui-navigator-shadowr",all:"ui-navigator-shadowall"},h=f.iScroll,c=h.x;if(c<0){g.removeClass(d.left+" "+d.right).addClass(d.all);if(c<=h.maxScrollX){g.removeClass(d.all+" "+d.right).addClass(d.left)}}else{g.removeClass(d.all+" "+d.left);h.hScroll?g.addClass(d.right):g.removeClass(d.all+" "+d.left+" "+d.right)}return e},_scrollToNext:function(d,h){var e=this,f=e._data,c=f._scrollerSumWidth,g=f.iScroll;g.scrollTo(h=="last"?g.wrapperW-(c[d+1]||c[c.length-1]):h=="first"?(-c[d-2]||0):g.x,0,400);return e},_getPos:function(f){var h=this,e=h._data,l=e.iScroll,k=Math.abs(l.x)||0,i=e._scrollerSumWidth,j=e._$navList,m=i[f]-k,g=i[(f-1)||0]-k,c=(i[f+1]||i[i.length-1])-k,d=l.wrapperW;return(m>=d||c>d)?"last":(m<=j[f].offsetWidth||g<j[f-1].offsetWidth)?"first":"middle"},_ortChangeHandler:function(){var c=this,d=c._data,e=d.iScroll;e.refresh();c._setShadow();d._$navWrapper.width(e.wrapperW-e.wrapperOffsetLeft)},switchTo:function(f,d,i){var g=this,h=g._data;g.switchToOrg(f,d,i);if(!h._$tabList.eq(f).hasClass("ui-navigator-fix")){var c=h._$fixElemLeft,f=f-(c.length?c.length:0),j=g._getPos(f);d&&h.isShowShadow&&g._setShadow();h.isScrollToNext&&g._scrollToNext(f,j)}return g}}})})(Zepto);
/*!Widget refresh.js*/
(function(a,b){a.ui.define("refresh",{_data:{ready:null,statechange:null},_setup:function(){var d=this,e=d._data,c=d.root();e.$upElem=c.find(".ui-refresh-up");e.$downElem=c.find(".ui-refresh-down");c.addClass("ui-refresh");return d},_init:function(){var c=this,d=c._data;a.each(["up","down"],function(g,f){var e=d["$"+f+"Elem"],h=e.get(0);if(e.length){c._status(f,true);d["_"+f+"Enable"]=true;if(!h.childNodes.length||(e.find(".ui-refresh-icon").length&&e.find(".ui-refresh-label").length)){!h.childNodes.length&&c._createBtn(f);d.refreshInfo||(d.refreshInfo={});d.refreshInfo[f]={$icon:e.find(".ui-refresh-icon"),$label:e.find(".ui-refresh-label"),text:e.find(".ui-refresh-label").html()}}e.on("click",function(){if(!c._status(f)||d._actDir||!d["_"+f+"Enable"]){return}c._setStyle(f,"loading");c._loadingAction(f,"click")})}});return c},_createBtn:function(c){this._data["$"+c+"Elem"].html('<span class="ui-refresh-icon"></span><span class="ui-refresh-label">\u52a0\u8f7d\u66f4\u591a</span>');return this},_setStyle:function(d,f){var e=this,c=a.Event("statechange");e.trigger(c,[e._data["$"+d+"Elem"],f,d]);if(c.defaultPrevented){return e}return e._changeStyle(d,f)},_changeStyle:function(c,f){var e=this._data,d=e.refreshInfo[c];switch(f){case"loaded":d["$label"].html(d.text);d["$icon"].removeClass();e._actDir="";break;case"loading":d["$label"].html("\u52a0\u8f7d\u4e2d...");d["$icon"].addClass("ui-loading");e._actDir=c;break;case"disable":d["$label"].html("\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86");break}return this},_loadingAction:function(c,d){var f=this,g=f._data,e=g.ready;a.isFunction(e)&&e.call(f,c,d);f._status(c,false);return f},afterDataLoading:function(c){var d=this,c=c||d._data._actDir;d._setStyle(c,"loaded");d._status(c,true);return d},_status:function(d,c){var e=this._data;return c===b?e["_"+d+"Open"]:e["_"+d+"Open"]=!!c},_setable:function(d,c,e){var f=this,g=f._data,h=c?[c]:["up","down"];a.each(h,function(l,k){var j=g["$"+k+"Elem"];if(!j.length){return}d?j.show():(e?j.hide():f._setStyle(k,"disable"));g["_"+k+"Enable"]=d;f._status(k,d)});return f},disable:function(c,d){return this._setable(false,c,d)},enable:function(c){return this._setable(true,c)}})})(Zepto);
/*!Widget refresh.lite.js*/
(function(a,b){a.ui.refresh.register(function(){return{pluginName:"lite",_init:function(){var d=this,e=d._data,c=d.root();d._initOrg();e.seamless&&a(document).on("scrollStop",a.proxy(d._eventHandler,d));c.on("touchstart touchmove touchend touchcancel",a.proxy(d._eventHandler,d));e.wrapperH=d.root().height();e.wrapperTop=d.root().offset().top;e._win=window;e._body=document.body;return d},_changeStyle:function(c,f){var d=this,e=d._data.refreshInfo[c];if(f=="beforeload"){e["$icon"].removeClass("ui-loading");e["$label"].html("\u677e\u5f00\u7acb\u5373\u52a0\u8f7d")}return d._changeStyleOrg(c,f)},_startHandler:function(c){this._data._startY=c.touches[0].pageY},_moveHandler:function(i){var g=this,h=g._data,d=h._startY,j=d-i.touches[0].pageY,f=h._win.innerHeight,c=h.threshold||(h.wrapperH<f?(h.wrapperH/2+h.wrapperTop||0):f/2);if(!g._status("down")||j<0){return}if(!h._refreshing&&(d>=h._body.scrollHeight-f+c)&&j>10){g._setStyle("down","beforeload");h._refreshing=true}return g},_endHandler:function(){var c=this,d=c._data;c._setStyle("down","loading");c._loadingAction("down","pull");d._refreshing=false;return c},_eventHandler:function(f){var c=this,d=c._data;switch(f.type){case"touchstart":c._startHandler(f);break;case"touchmove":clearTimeout(d._endTimer);d._endTimer=a.later(function(){c._endHandler()},300);c._moveHandler(f);break;case"touchend":case"touchcancel":clearTimeout(d._endTimer);d._refreshing&&c._endHandler();break;case"scrollStop":(!d._refreshing&&d._win.pageYOffset>=d._body.scrollHeight-d._win.innerHeight+(d.threshold||-1))&&c._endHandler();break}return c}}})})(Zepto);
/*!Widget refresh.iscroll.js*/
(function(a,b){a.ui.refresh.register(function(){return{pluginName:"iscroll",_init:function(){var e=this,f=e._data,c=e.root(),d=c.height();e._initOrg();a.extend(f,{useTransition:true,speedScale:1,topOffset:f["$upElem"]?f["$upElem"].height():0});f.threshold=f.threshold||5;c.wrapAll(a('<div class="ui-refresh-wrapper"></div>').height(d)).css("height","auto");e._loadIscroll()},_changeStyle:function(c,g){var d=this,f=d._data,e=f.refreshInfo[c];d._changeStyleOrg(c,g);switch(g){case"loaded":e["$icon"].addClass("ui-refresh-icon");break;case"beforeload":e["$label"].html("\u677e\u5f00\u7acb\u5373\u52a0\u8f7d");e["$icon"].addClass("ui-refresh-flip");break;case"loading":e["$icon"].removeClass().addClass("ui-loading");break}return d},_loadIscroll:function(){var d=this,e=d._data,c=e.threshold;e.iScroll=new iScroll(d.root().parent().get(0),e.iScrollOpts=a.extend({useTransition:e.useTransition,speedScale:e.speedScale,topOffset:e.topOffset},e.iScrollOpts,{onScrollStart:function(f){d.trigger("scrollstart",f)},onScrollMove:(function(){var f=e.$upElem&&e.$upElem.length,g=e.$downElem&&e.$downElem.length;return function(l){var h=e._upRefreshed,i=e._downRefreshed,k=d._status("up"),j=d._status("down");upEnable=e._upEnable,downEnable=e._downEnable;if(f&&!k&&!!upEnable||g&&!j&&!!downEnable||this.maxScrollY>=0){return}if(j&&g&&!i&&this.y<(this.maxScrollY-c)){d._setMoveState("down","beforeload","pull")}else{if(k&&f&&!h&&this.y>c){d._setMoveState("up","beforeload","pull");this.minScrollY=0}else{if(j&&i&&this.y>(this.maxScrollY+c)){d._setMoveState("down","loaded","restore")}else{if(k&&h&&this.y<c){d._setMoveState("up","loaded","restore");this.minScrollY=-e.topOffset}}}}d.trigger("scrollmove",l)}})(),onScrollEnd:function(g){var f=e._actDir;if(f&&d._status(f)){d._setStyle(f,"loading");d._loadingAction(f,"pull")}d.trigger("scrollend",g)}}))},_setMoveState:function(c,g,e){var d=this,f=d._data;d._setStyle(c,g);f["_"+c+"Refreshed"]=e=="pull";f._actDir=e=="pull"?c:"";return d},afterDataLoading:function(c){var d=this,e=d._data,c=c||e._actDir;e.iScroll.refresh();e["_"+c+"Refreshed"]=false;return d.afterDataLoadingOrg(c)}}})})(Zepto);
/*!Widget refresh.iOS5.js*/
(function(a,b){a.ui.refresh.register(function(){return{pluginName:"iOS5",_init:function(){var d=this,e=d._data,c=d.root();d._initOrg();c.css({overflow:"scroll","-webkit-overflow-scrolling":"touch"});e.topOffset=e["$upElem"]?e["$upElem"].height():0;e.iScroll=d._getiScroll();c.get(0).scrollTop=e.topOffset;c.on("touchstart touchmove touchend",a.proxy(d._eventHandler,d))},_changeStyle:function(c,g){var d=this,f=d._data,e=f.refreshInfo[c];d._changeStyleOrg(c,g);switch(g){case"loaded":e["$icon"].addClass("ui-refresh-icon");f._actDir="";break;case"beforeload":e["$label"].html("\u677e\u5f00\u7acb\u5373\u52a0\u8f7d");e["$icon"].addClass("ui-refresh-flip");break;case"loading":e["$icon"].removeClass().addClass("ui-loading");break}return d},_scrollStart:function(h){var f=this,g=f._data,d=g.topOffset,c=g.$upElem,j=f.root().get(0),i=function(){clearTimeout(f.data("topOffsetTimer"));if(c&&c.length&&j.scrollTop<=d&&!g._upRefreshed){j.scrollTop=d}};f.trigger("scrollstart",h);f._enableScroll()._bindScrollStop(j,i);g.maxScrollY=j.offsetHeight-j.scrollHeight;g._scrollFn=i;return f},_scrollMove:function(){var e=this,f=e._data,d=f.$upElem&&f.$upElem.length,h=f.$downElem&&f.$downElem.length,g=e.root().get(0),c=f.threshold||5;e._scrollMove=function(p){var l=f.maxScrollY,o=g.scrollTop,i=f.lastMoveY||o,j=f._upRefreshed,k=f._downRefreshed,n=e._status("up"),m=e._status("down");if(d&&!n||h&&!m){return}f.iScroll.deltaY=o-i;if(m&&h&&!k&&-o<(l-c)){e._setMoveState("down","beforeload","pull")}else{if(m&&h&&k&&-o>(l-c)&&-o!==l){e._setMoveState("down","loaded","restore")}else{if(n&&d&&!j&&-o>c){e._setMoveState("up","beforeload","pull")}else{if(n&&d&&j&&-o<c&&o){e._setMoveState("up","loaded","restore")}}}}f.lastMoveY=o;f._moved=true;return e.trigger("scrollmove",p,o,o-i)};e._scrollMove.apply(e,arguments)},_scrollEnd:function(i){var d=this,g=d._data,j=d.root().get(0),c=g.topOffset,f=g._actDir,h=g._restoreDir;if((h=="up"||j.scrollTop<=c)&&!f&&g._moved){d.data("topOffsetTimer",a.later(function(){a(j).off("scroll",g._scrollFn);j.scrollTop=c},800))}if(f&&d._status(f)){d._setStyle(f,"loading");d._loadingAction(f,"pull")}g._moved=false;return d.trigger("scrollend",i)},_enableScroll:function(){var c=this,e=c.root().get(0),d=e.scrollTop;d<=0&&(e.scrollTop=1);if(d+e.offsetHeight>=e.scrollHeight){e.scrollTop=e.scrollHeight-e.offsetHeight-1}return c},_bindScrollStop:function(f,d){var e=this,c=a(f);c.off("scroll",e._data._scrollFn).on("scroll",a.debounce(100,function(){c.off("scroll",arguments.callee).one("scroll",d)},false));return e},_getiScroll:function(){var c=this,d=c.root(),e=d[0];return{el:e,deltaY:0,scrollTo:function(h,g,f){if(f){h=e.scrollTop+h}d.css({"-webkit-transition-property":"scrollTop","-webkit-transition-duration":h+"ms"});e.scrollTop=h},disable:function(f){f&&c.destroy();d.css("overflow","hidden")},enable:function(){d.css("overflow","scroll")}}},_setMoveState:function(c,g,e){var d=this,f=d._data;d._setStyle(c,g);f["_"+c+"Refreshed"]=e=="pull";f._actDir=e=="pull"?c:"";f._restoreDir=c=="up"&&e=="restore"?c:"";return d},_eventHandler:function(d){var c=this;switch(d.type){case"touchstart":c._scrollStart(d);break;case"touchmove":c._scrollMove(d);break;case"touchend":c._scrollEnd(d);break}},afterDataLoading:function(c){var d=this,e=d._data,c=c||e._actDir;e["_"+c+"Refreshed"]=false;c=="up"&&(d.root().get(0).scrollTop=e.topOffset);return d.afterDataLoadingOrg(c)}}})})(Zepto);
/*!Widget toolbar.js*/
(function(a){a.ui.define("toolbar",{_data:{title:"",backButtonText:"\u8fd4\u56de",backButtonHref:"",btns:"",useFix:false,backButtonClick:function(){history.back(1)},_isShow:false},_create:function(){var c=this,d=c._data;(c.root()||c.root(a("<div></div>"))).addClass("ui-toolbar").appendTo(c.data("container")||(c.root().parent().length?"":document.body)).html((function(){var e='<div class="ui-toolbar-wrap"><div class="ui-toolbar-left">';if(d.backButtonHref){e+='<a class="ui-toolbar-backbtn" href="'+d.backButtonHref+'">'+d.backButtonText+"</a></div>"}else{e+='<span class="ui-toolbar-backbtn">'+d.backButtonText+"</span></div>"}e+=d.title?'<h2 class="ui-toolbar-title">'+d.title+"</h2>":"";e+='<div class="ui-toolbar-right"></div></div>';return e}()));if(d.btns){var b=c.root().find(".ui-toolbar-right");a(d.btns).each(function(e,f){b.append(f)})}},_setup:function(d){var f=this,g=f.root().addClass("ui-toolbar");if(!d){var i=g.children(),h=g.find("h1,h2,h3,h4"),e=h.index(),c=a('<div class="ui-toolbar-left"></div>'),j=a('<div class="ui-toolbar-right"></div>'),b=a('<div class="ui-toolbar-wrap"></div>');g.empty().append(b.append(c).append(j));if(e==-1){i.each(function(k,l){a(l).appendTo(k==0?c:j)})}else{i.each(function(k,l){if(k<e){c.append(l)}else{if(k==e){b.append(a(l).addClass("ui-toolbar-title"))}else{j.append(l)}}})}c.children().first().addClass("ui-toolbar-backbtn");f.data("btns")&&a(f.data("btns")).each(function(k,l){j.append(l)});f.data("container")&&g.appendTo(f.data("container"))}},_init:function(){var e=this,c=e.root(),f=c.find(".ui-toolbar-backbtn");if(e.data("useFix")){var h=a('<div class="ui-toolbar-placeholder"></div>').height(c.offset().height).insertBefore(c).append(c).append(c.clone().css({"z-index":1,position:"absolute",top:0})),g=c.offset().top,b=function(){document.body.scrollTop>g?c.css({position:"fixed",top:0}):c.css("position","absolute")},d;a(window).on("touchmove touchend touchcancel scroll scrollStop",b);a(document).on("touchend touchcancel",function(){d=arguments.callee;a.later(b,200)});e.on("destroy",function(){a(window).off("touchmove touchend touchcancel scroll scrollStop",b);a(document).off("touchend touchcancel",d);h.off().remove()}).on("init",b)}f.highlight("ui-state-hover").is("a")||f.click(e.data("backButtonClick"));return e},addButton:function(d){var c=this,b=c.root().find(".ui-toolbar-right");a.each(d,function(f,e){b.append(e.root());c.component(e)});return c},show:function(){var b=this;b.data("_isShow",true);b.root().show();b.trigger("show");return b},hide:function(){var b=this;b.data("_isShow",false);b.root().hide();b.trigger("hide");return b},toggle:function(){var b=this;b.data("_isShow")?b.hide():b.show();return b}})})(Zepto);
/*!Widget add2desktop.js*/
(function(a,b){a.ui.define("add2desktop",{_data:{icon:"",container:"",key:"_gmu_adddesktop_key",useFix:true,position:{bottom:12,left:"50%"},beforeshow:function(c){this.key()&&c.preventDefault()},afterhide:function(){this.key(1)},_isShow:false},_create:function(){var e=this,d=(e.root()||e.root(a("<div></div>"))).addClass("ui-add2desktop").appendTo(e.data("container")||(e.root().parent().length?"":document.body)),c=(a.os.version&&a.os.version.substr(0,3)>4.1?"new":"old");d.html('<img src="'+e.data("icon")+'"/><p>\u5148\u70b9\u51fb<span class="ui-add2desktop-icon-'+c+'"></span>\uff0c<br />\u518d"\u6dfb\u52a0\u81f3\u4e3b\u5c4f\u5e55"</p><span class="ui-add2desktop-close"><b></b></span><div class="ui-add2desktop-arrow"><b></b></div>')},_setup:function(f){var d=this,c=d.root();if(!f){var e=c.children("img").attr("src");e&&d.data("icon",e);d._create()}return d},_init:function(){var c=this;c.root().find(".ui-add2desktop-close").on("click",function(){c.hide()});c.data("useFix")&&c.root().fix(c.data("position"));return c.show()},key:function(d){var c=window.localStorage;return d!==b?c.setItem(this.data("key"),d):c.getItem(this.data("key"))},show:function(){var d=this;if(!d.data("_isShow")){if(!a.os.ios||a.browser.uc||a.browser.qq||a.browser.chrome){return d}var c=a.Event("beforeshow");d.trigger(c);if(c.defaultPrevented){return d}d.root().css("display","block");d.data("_isShow",true)}return d},hide:function(){var c=this;if(c.data("_isShow")){c.root().css("display","none");c.data("_isShow",false);c.trigger("afterhide")}return c}})})(Zepto);
/*!Widget gotop.js*/
(function(a,b){a.ui.define("gotop",{_data:{container:"",useFix:true,useHide:true,useAnimation:false,position:{bottom:10,right:10},afterScroll:null,iScrollInstance:null,disablePlugin:false},_create:function(){var c=this;(c.root()||c.root(a("<div></div>"))).addClass("ui-gotop").append("<div></div>").appendTo(c.data("container")||(c.root().parent().length?"":document.body));return c},_setup:function(d){var c=this;c._create();return c},_init:function(){var e=this,c=e.root(),d=a.proxy(e._eventHandler,e);e.data("useHide")&&a(document).on("touchmove",d);a(document).on("touchend touchcancel scrollStop",d);a(window).on("scroll ortchange",d);c.on("click",d);e.on("destroy",function(){a(document).off("touchmove touchend touchcancel scrollStop",d);a(window).off("scroll ortchange",d)});e.data("useFix")&&c.fix(e.data("position"));e.data("root",c[0]);return e},_eventHandler:function(d){var c=this;switch(d.type){case"touchmove":c.hide();break;case"scroll":clearTimeout(c.data("_TID"));break;case"touchend":case"touchcancel":clearTimeout(c.data("_TID"));c.data("_TID",a.later(function(){c._check.call(c)},300));break;case"scrollStop":c._check();break;case"ortchange":c._check.call(c);break;case"click":c._scrollTo();break}},_check:function(c){var d=this;(c!==b?c:window.pageYOffset)>document.documentElement.clientHeight?d.show():d.hide();return d},_scrollTo:function(){var c=this,d=window.pageYOffset;c.hide();clearTimeout(c.data("_TID"));if(!c.data("useAnimation")){window.scrollTo(0,1);c.trigger("afterScroll")}else{c.data("moveToTop",a.later(function(){if(d>1){window.scrollBy(0,-Math.min(150,d-1));d-=150}else{clearInterval(c.data("moveToTop"));c.trigger("afterScroll")}},25,true))}return c},show:function(){this._data.root.style.display="block";return this},hide:function(){this._data.root.style.display="none";return this}})})(Zepto);
/*!Widget gotop.iscroll.js*/
(function(a,b){a.ui.gotop.register(function(){return{pluginName:"iscroll",_init:function(){var e=this,f=e._data,c=e.root(),h=f.iScrollInstance;var g=h.options.onScrollMove,d=h.options.onScrollEnd;h.options.onScrollMove=function(){g&&g.call(h,arguments);f.useHide&&e.hide()};h.options.onScrollEnd=function(){d&&d.call(h,arguments);e._check(Math.abs(h.y));if(f._scrollClick){e.trigger("afterScroll");f._scrollClick=false}};c.on("click",function(){f._scrollClick=true;h.scrollTo(0,0)});e.on("destroy",function(){h.options.onScrollMove=g;h.options.onScrollEnd=d});f.useFix&&c.fix(f.position);f.root=c[0];return e}}})})(Zepto);
/*!Widget button.js*/
(function(b,c){var d=/\bui\-icon\-(\w+)\b/ig,a=/\bui\-button\-icon\-pos\-(\w+)\b/ig;b.ui.define("button",{_data:{disabled:false,selected:false,label:"",alttext:"",type:"button",icon:"",iconpos:"",attributes:null,container:null},_createDefEL:function(){return b("<button>")},_prepareBtnEL:function(e){return this.root()},_prepareDom:function(h){var g=this._data,f=this.root(),e;if(h=="create"){(g.label||g.alttext)&&(g._textSpan=b('<span class="ui-button-text">'+(g.label||g.alttext)+"</span>").appendTo(g._buttonElement));g.icon&&(g._iconSpan=b('<span class="ui-icon ui-icon-'+g.icon+'"></span>').appendTo(g._buttonElement))}else{if(h=="fullsetup"){g._textSpan=b(".ui-button-text",g._buttonElement);e=g._buttonElement.hasClass("ui-button-icon-only")?"alttext":"label";g[e]=g[e]||g._textSpan.text();g._iconSpan=b(".ui-icon",g._buttonElement);g.icon=g.icon||g._iconSpan.attr("class").match(d)&&RegExp.$1;g.iconpos=g.iconpos||g._buttonElement.attr("class").match(a)&&RegExp.$1}else{g.label=g.label||g._buttonElement.text()||f.val();g.alttext=g.alttext||f.attr("data-alttext");g.icon=g.icon||f.attr("data-icon");g.iconpos=g.iconpos||f.attr("data-iconpos");g._buttonElement.empty();g.icon&&(g._iconSpan=b('<span class="ui-icon ui-icon-'+g.icon+'"></span>').appendTo(g._buttonElement));(g.label||g.alttext)&&(g._textSpan=b('<span class="ui-button-text">'+(g.label||g.alttext)+"</span>").appendTo(g._buttonElement))}}},_create:function(){var f=this,e,g=f._data;!g.icon&&!g.label&&(g.label="\u6309\u94ae");e=f._el||(f.root(f._createDefEL()));g._buttonElement=f._prepareBtnEL("create");f._prepareDom("create");e.appendTo(g._container=b(g.container||"body"));g._buttonElement!==e&&g._buttonElement.insertAfter(e)},_detectType:function(){return"button"},_setup:function(g){var e=this,f=e._data;g=g?"fullsetup":"setup";f.type=e._detectType();f._buttonElement=e._prepareBtnEL(g);e._prepareDom(g)},_prepareClassName:function(){var f=this,g=f._data,e="ui-button";e+=g.label&&g.icon?" ui-button-text-icon ui-button-icon-pos-"+(g.iconpos||"left"):g.label?" ui-button-text-only":" ui-button-icon-only";e+=g.disabled?" ui-state-disable":"";e+=g.selected?" ui-state-active":"";return e},_init:function(){var g=this,e=g.root(),h=g._data,f=g._prepareClassName();h.attributes&&e.attr(h.attributes);e.prop("disabled",!!h.disabled);h._buttonElement.addClass(f).highlight(h.disabled?"":"ui-state-hover");h._buttonElement.on("click",b.proxy(g._eventHandler,g));b.each(["click","change"],function(){h[this]&&g.on(this,h[this]);delete h[this]})},_eventHandler:function(e){var f=this._data;if(f.disabled){e.preventDefault();e.stopImmediatePropagation()}},_setState:function(e){var f=this._data,g=f.disabled!=!e;if(g){f.disabled=!e;f._buttonElement[e?"removeClass":"addClass"]("ui-state-disable").highlight(e?"ui-state-hover":"");this.trigger("statechange",e)}return this},enable:function(){return this._setState(true)},disable:function(){return this._setState(false)},toggleEnable:function(){var e=this._data;return this._setState(e.disabled)},_setSelected:function(f){var e=this._data;if(e.selected!=f){e._buttonElement[(e.selected=f)?"addClass":"removeClass"]("ui-state-active");this.trigger("change")}return this},select:function(){return this._setSelected(true)},unselect:function(){return this._setSelected(false)},toggleSelect:function(){return this._setSelected(!this._data.selected)},destroy:function(){var e=this,f=this._data;f._buttonElement.off("click",e._eventHandler).highlight();f._buttonElement.remove();e.$super("destroy")}})})(Zepto);
/*!Widget button.input.js*/
(function(e,f){var d=1,c=function(){return d++},a={button:"<button>",checkbox:'<input type="checkbox" />',radio:'<input type="radio" />',input:'<input type="button" />'},b=function(h){var g=h.name,i=h.form,j=e([]);if(g){if(i){j=e(i).find("[name='"+g+"']")}else{j=e("[name='"+g+"']",h.ownerDocument)}}return j};e.ui.button.register(function(){return{pluginName:"input",_init:function(){var g=this._data;this._initOrg();(g.type=="checkbox"||g.type=="radio")&&this.root().prop("checked",!!g.selected)},_createDefEL:function(){return e(a[this._data.type])||this._createDefELOrg()},_detectType:function(){var g=this.root();return g.is("[type=checkbox]")?"checkbox":g.is("[type=radio]")?"radio":g.is("input")?"input":this._detectTypeOrg()},_prepareBtnEL:function(k){var j=this._data,h,i,g,l;if(j.type=="checkbox"||j.type=="radio"){g=this.root();g.addClass("ui-helper-hidden");if(k=="create"){if(!(h=j.attributes&&j.attributes.id)){h="input_"+c();e.extend(j.attributes||(j.attributes={}),{id:h})}i=e('<label for="'+h+'"></label>')}else{l="label[for='"+g.attr("id")+"']";i=g.siblings(l);if(!i.length){i=g.parent().find(l)}j.selected=j.selected||g.prop("checked")}}return i?i:this._prepareBtnELOrg(k)},_prepareDom:function(i){var h=this._data,g;if(h.type=="input"){g=this.root();h.label&&g.val(h.label);if(i!="create"){h.label=g.val()}}else{return this._prepareDomOrg(i)}},_setSelected:function(i){var h=this._data,g=h.type;h.selected!=i&&(g=="checkbox"||g=="radio")&&this._el.prop("checked",i);return this._setSelectedOrg(i)},_eventHandler:function(i){var h=this._data,g;if(!h.disabled){if(h.type=="checkbox"){h._buttonElement.toggleClass("ui-state-active");h.selected=!h.selected}else{if(h.type=="radio"){h._buttonElement.addClass("ui-state-active");h.selected=true;g=this._el[0];e.each(b(g).not(g).map(function(){return e(this).button("this")}),function(){if(!this instanceof e.ui.button){return}this.unselect()})}}}return this._eventHandlerOrg(i)},setIcon:function(g){var h=this._data,i=h.label;if(h.icon!=g&&h.type!="input"){if(h.icon){if(!g){h._iconSpan.remove();h._iconSpan=null;h._buttonElement.removeClass(i?"ui-button-text-icon":"ui-button-icon-only").addClass("ui-button-text-only")}else{h._iconSpan.removeClass("ui-icon-"+h.icon).addClass("ui-icon-"+g)}}else{h._iconSpan=e('<span class="ui-icon ui-icon-'+g+'"></span>').appendTo(this._buttonElement);h._buttonElement.removeClass("ui-button-text-only").addClass(i?"ui-button-text-icon":"ui-button-icon-only")}h.icon=g}return this}}})})(Zepto);
/*!Widget progressbar.js*/
(function(a,b){a.ui.define("progressbar",{_data:{initValue:0,horizontal:true,transitionDuration:300,_isShow:true,_current:0,_percent:0},_create:function(){var c=this,d=c.data("horizontal")?"h":"v";(c.root()||c.root(a("<div></div>"))).addClass("ui-progressbar-"+d).appendTo(c.data("container")||(c.root().parent().length?"":document.body)).html(('<div class="ui-progressbar-bg"><div class="ui-progressbar-filled"></div><div class="ui-progressbar-button"><div><b></b></div></div></div>'))},_setup:function(c){c||this._create()},_init:function(){var g=this,d=g.root(),f=a.proxy(g._eventHandler,g),h=d.find(".ui-progressbar-button"),c=d.find(".ui-progressbar-bg"),e=d.offset();h.on("touchstart touchmove touchend touchcancel",f);c.on("touchstart",f);g.data({_button:h[0],$_background:c,_filled:d.find(".ui-progressbar-filled")[0],_width:e.width,_height:e.height});g.data("horizontal")&&e.width&&d.width(e.width);g.data("initValue")>0&&g.value(g.data("initValue"))},_eventHandler:function(d){var c=this;switch(d.type){case"touchmove":c._touchMove(d);break;case"touchstart":a(d.target).hasClass("ui-progressbar-bg")?c._click(d):c._touchStart(d);break;case"touchcancel":case"touchend":c._touchEnd();break;case"tap":c._click(d);break}},_touchStart:function(d){var c=this,f=c._data;c.data({pageX:d.touches[0].pageX,pageY:d.touches[0].pageY,S:false,T:false,X:0,Y:0});f._button.style.webkitTransitionDuration="0ms";f._filled.style.webkitTransitionDuration="0ms";a(f._button).addClass("ui-progressbar-button-pressed");c.trigger("dragStart")},_touchMove:function(g){var f=this,i=f._data,k=g.touches[0],j=k.pageX-i.pageX,h=k.pageY-i.pageY,c;if(!i.T){var d=Math.abs(j)<Math.abs(k.pageY-i.pageY);i.T=true;i.S=d}if(i.horizontal){if(!i.S){g.stopPropagation();g.preventDefault();c=(j+i._current)/i._width*100;if(c<=100&&c>=0){i._percent=c;i.X=j;i._button.style.webkitTransform="translate3d("+(i.X+i._current)+"px,0,0)";i._filled.style.width=c+"%";f.trigger("valueChange")}f.trigger("dragMove")}}else{if(i.S){g.stopPropagation();g.preventDefault();c=-(i._current+h)/i._height*100;if(c<=100&&c>=0){i._percent=c;i.Y=h;i._button.style.webkitTransform="translate3d(0,"+(h+i._current)+"px,0)";i._filled.style.cssText+="height:"+c+"%;top:"+(i._height+h+i._current)+"px";f.trigger("valueChange")}f.trigger("dragMove")}}},_touchEnd:function(){var c=this,d=c._data;d._current+=d.horizontal?d.X:d.Y;a(d._button).removeClass("ui-progressbar-button-pressed");c.trigger("dragEnd")},_click:function(f){var d=this,g=d._data,c=g.$_background.offset(),h=f.touches[0];g.horizontal?d.value((h.pageX-c.left)/g._width*100):d.value((g._height-h.pageY+c.top)/g._height*100)},value:function(e){var d=this,g=d._data,c,f;if(e===b){return g._percent}else{e=parseFloat(e);if(isNaN(e)){return d}e=e>100?100:e<0?0:e;g._percent=e;f=";-webkit-transition-duration:"+g.transitionDuration+"ms";if(g.horizontal){c=g._current=g._width*e/100;g._button.style.cssText+="-webkit-transform:translate3d("+c+"px,0,0)"+f;g._filled.style.cssText+="width:"+e+"%"+f}else{c=g._current=g._height*e/-100;g._button.style.cssText+="-webkit-transform:translate3d(0,"+c+"px,0)"+f;g._filled.style.cssText+="height:"+e+"%;top:"+(g._height+c)+"px"+f}d.trigger("valueChange");return d}},show:function(){var c=this;if(!c.data("_isShow")){c.root().css("display","block");c.data("_isShow",true)}return c},hide:function(){var c=this;if(c.data("_isShow")){c.root().css("display","none");c.data("_isShow",false)}return c}})})(Zepto);
